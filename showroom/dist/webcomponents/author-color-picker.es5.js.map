{"version":3,"file":"author-color-picker.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorColorPickerElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      canvas: {\n        private: true,\n        readonly: true,\n        get: () => this.shadowRoot.querySelector('canvas')\n      },\n\n      context: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getContext('2d')\n      },\n\n      coords: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getBoundingClientRect()\n      },\n\n      initialWidth: {\n        private: true,\n        default: 0\n      },\n\n      initialheight: {\n        private: true,\n        default: 0\n      },\n\n      currentColor: {\n        private: true,\n        default: null\n      },\n\n      selectedColor: {\n        default: null\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      draw: (width, height) => {\n        let { canvas, context } = this.PRIVATE\n\n        canvas.width = width\n        canvas.height = height\n        context.clearRect(0, 0, width, height)\n\n        let gradient = {\n          x: context.createLinearGradient(0, 0, width, 0),\n          y: context.createLinearGradient(0, 0, 0, height)\n        }\n\n        gradient.x.addColorStop(0 / 6, 'red')\n        gradient.x.addColorStop(1 / 6, 'fuchsia')\n        gradient.x.addColorStop(2 / 6, 'blue')\n        gradient.x.addColorStop(3 / 6, 'aqua')\n        gradient.x.addColorStop(4 / 6, 'lime')\n        gradient.x.addColorStop(5 / 6, 'yellow')\n        gradient.x.addColorStop(6 / 6, 'red')\n\n        context.fillStyle = gradient.x\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n\n        gradient.y.addColorStop(0 / 4, 'white')\n        gradient.y.addColorStop(2 / 4, 'rgba(255,255,255,0)')\n        gradient.y.addColorStop(2 / 4, 'rgba(0,0,0,0)')\n        gradient.y.addColorStop(4 / 4, 'black')\n\n\t\t\t\tcontext.fillStyle = gradient.y\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        let { coords, draw } = this.PRIVATE\n\n        this.PRIVATE.initialWidth = coords.width\n        this.PRIVATE.initialHeight = coords.height\n\n        draw(coords.width, coords.height)\n      }\n    })\n\n    this.UTIL.registerListeners(this.PRIVATE.canvas, {\n      pointerenter: evt => {\n        let { coords, draw, initialWidth, initialHeight } = this.PRIVATE\n\n        if (initialWidth !== coords.width || initialHeight !== coords.height) {\n          draw(coords.width, coords.height)\n        }\n      },\n\n      pointermove: evt => {\n        let { context } = this.PRIVATE\n        let { data } = context.getImageData(evt.offsetX, evt.offsetY, 1, 1)\n        this.PRIVATE.currentColor = `rgb(${data[0]},${data[1]},${data[2]})`\n        console.log(this.currentColor);\n      }\n    })\n  }\n\n  get currentColor () {\n    return this.PRIVATE.currentColor\n  }\n}\n\ncustomElements.define('author-color-picker', AuthorColorPickerElement)\n\nexport default AuthorColorPickerElement\n"],"names":["AuthorColorPickerElement","UTIL","defineProperties","canvas","private","readonly","get","shadowRoot","querySelector","context","PRIVATE","getContext","coords","getBoundingClientRect","initialWidth","default","initialheight","currentColor","selectedColor","definePrivateMethods","draw","width","height","clearRect","gradient","x","createLinearGradient","y","addColorStop","fillStyle","fillRect","registerListeners","connected","initialHeight","pointerenter","evt","pointermove","getImageData","offsetX","offsetY","data","console","log","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"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"}