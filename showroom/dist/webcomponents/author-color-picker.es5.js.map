{"version":3,"file":"author-color-picker.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorColorPickerElement extends AuthorSliderElement {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    // Override AuthorSliderElement defaults\n    this.PRIVATE.defaultAxis = '*'\n\n    this.PRIVATE.pointerupHandler = evt => {\n      let { generateColorObject, generatePositionObject, handles, pointermoveHandler, pointerupHandler } = this.PRIVATE\n      let reposition = true\n\n      // this.PRIVATE.previousColor = this.PRIVATE.selectedColor\n      // this.PRIVATE.selectedColor = currentColor\n\n      if (handles.length > 1) {\n        reposition = false\n      } else if (handles.length !== 0) {\n        handles.item(0).position = generatePositionObject()\n      }\n\n      if (reposition) {\n        this.emit('change', {\n          // previous: this.previousColor,\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n      }\n\n      document.removeEventListener('pointermove', pointermoveHandler)\n      document.removeEventListener('pointerup', pointerupHandler)\n    }\n\n    this.PRIVATE.pointermoveHandler = evt => {\n      if (evt.buttons < 1) {\n        return\n      }\n\n      document.addEventListener('pointerup', this.PRIVATE.pointerupHandler)\n\n      let { getPercentageDecimal } = this.UTIL\n      let { generateColorObject, generatePositionObject, handles, position } = this.PRIVATE\n      let relative = this.PRIVATE.getRelativePosition(evt)\n\n      if ((!this.position.x || relative.x !== position.x) || (!this.position.y || relative.y !== position.y)) {\n        this.PRIVATE.setColor(relative)\n        this.PRIVATE.position = relative\n\n        if (handles.length !== 0) {\n          handles.item(0).position = this.position\n        }\n\n        this.emit('slide', {\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n      }\n    }\n\n    this.UTIL.defineProperties({\n      defaultMode: {\n        private: true,\n        readonly: true,\n        default: 'single-hue'\n      },\n\n      defaultOrientation: {\n        private: true,\n        readonly: true,\n        default: 'horizontal'\n      },\n\n      validModes: {\n        private: true,\n        readonly: true,\n        default: ['single-hue', 'all-hues', 'gradient']\n      },\n\n      hue: {\n        private: true,\n        default: 0\n      },\n\n      saturation: {\n        private: true,\n        default: 0\n      },\n\n      value: {\n        private: true,\n        default: 100\n      },\n\n      alpha: {\n        private: true,\n        default: 100\n      },\n\n      canvas: {\n        private: true,\n        readonly: true,\n        get: () => this.shadowRoot.querySelector('canvas')\n      },\n\n      context: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getContext('2d')\n      },\n\n      initialWidth: {\n        private: true,\n        default: 236\n      },\n\n      initialHeight: {\n        private: true,\n        default: 118\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      mode: this.PRIVATE.defaultMode,\n      orientation: this.PRIVATE.defaultOrientation\n    })\n\n    this.UTIL.definePrivateMethods({\n      drawSingleHueSpectrum: (hue, width, height) => {\n        let { context, HSVToRGB } = this.PRIVATE\n        let rgb = HSVToRGB(hue, 100, 100)\n\n        context.clearRect(0, 0, width, height)\n        context.fillStyle = `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]}, 1)`\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n\n        let gradient = {\n          x: context.createLinearGradient(0, 0, width, 0),\n          y: context.createLinearGradient(0, 0, 0, height)\n        }\n\n        gradient.x.addColorStop(0, 'rgba(255, 255, 255, 1)')\n        gradient.x.addColorStop(1, 'rgba(255, 255, 255, 0)')\n\n        context.fillStyle = gradient.x\n        context.fillRect(0, 0, width, height)\n\n        gradient.y.addColorStop(0, 'rgba(0, 0, 0, 0)')\n        gradient.y.addColorStop(1, 'rgba(0, 0, 0, 1)')\n\n        context.fillStyle = gradient.y\n        context.fillRect(0, 0, width, height)\n      },\n\n      drawAllHueSpectrum: (width, height, orientation = 'horizontal') => {\n        let { context } = this.PRIVATE\n\n        // this.PRIVATE.hue = 0\n\n        let args = orientation === 'horizontal'\n          ? [0, 0, width, 0]\n          : [0, 0, 0, height]\n\n        let gradient = context.createLinearGradient(...args)\n\n        gradient.addColorStop(0 / 6, '#F00')\n        gradient.addColorStop(1 / 6, '#FF0')\n        gradient.addColorStop(2 / 6, '#0F0')\n        gradient.addColorStop(3 / 6, '#0FF')\n        gradient.addColorStop(4 / 6, '#00F')\n        gradient.addColorStop(5 / 6, '#F0F')\n        gradient.addColorStop(6 / 6, '#F00')\n\n        context.fillStyle = gradient\n        context.fillRect(0, 0, width, height)\n      },\n\n      draw: (width = this.clientWidth, height = this.clientHeight, hue = this.PRIVATE.hue) => {\n        let { canvas, drawAllHueSpectrum, drawSingleHueSpectrum } = this.PRIVATE\n\n        canvas.width = width\n        canvas.height = height\n\n        switch (this.mode) {\n          case 'single-hue': return drawSingleHueSpectrum(hue, width, height)\n          case 'all-hues': return drawAllHueSpectrum(width, height)\n\n          default: this.UTIL.throwError({\n            message: `Invalid mode \"${this.mode}\"`\n          })\n        }\n      },\n\n      generateColorObject: (h = this.PRIVATE.hue, s = this.PRIVATE.saturation, v = this.PRIVATE.value) => {\n        let { alpha, HSVToRGB } = this.PRIVATE\n\n        let rgb = HSVToRGB(h, s, v)\n        let r = rgb[0]\n        let g = rgb[1]\n        let b = rgb[2]\n\n        return {\n          r,\n          g,\n          b,\n          a: alpha,\n          hex: `#${this.PRIVATE.RGBToHex(...rgb)}`,\n          rgba: `rgba(${rgb.join(',')},${alpha / 100})`\n        }\n      },\n\n      HSVToRGB: (h, s, v) => {\n        let r, g, b, i, f, p, q, t\n\n        h = Math.max(0, Math.min(360, h))\n        s = Math.max(0, Math.min(100, s))\n        v = Math.max(0, Math.min(100, v))\n\n        s /= 100;\n        v /= 100;\n\n        if(s == 0) {\n          r = g = b = v\n\n          return [\n            Math.round(r * 255),\n            Math.round(g * 255),\n            Math.round(b * 255)\n          ]\n        }\n\n        h /= 60\n        i = Math.floor(h)\n        f = h - i\n        p = v * (1 - s)\n        q = v * (1 - s * f)\n        t = v * (1 - s * (1 - f))\n\n        switch(i) {\n          case 0:\n            r = v\n            g = t\n            b = p\n            break\n\n          case 1:\n            r = q\n            g = v\n            b = p\n            break\n\n          case 2:\n            r = p\n            g = v\n            b = t\n            break\n\n          case 3:\n            r = p\n            g = q\n            b = v\n            break\n\n          case 4:\n            r = t\n            g = p\n            b = v\n            break\n\n          default:\n            r = v\n            g = p\n            b = q\n        }\n\n        return [\n          Math.round(r * 255),\n          Math.round(g * 255),\n          Math.round(b * 255)\n        ]\n      },\n\n      RGBToHex: (r, g, b) => {\n        let { unitToHex } = this.PRIVATE\n        return `${unitToHex(r)}${unitToHex(g)}${unitToHex(b)}`\n      },\n\n      unitToHex: unit => {\n        let hex = Number(unit).toString(16)\n\n        if (hex.length < 2) {\n          hex = `0${hex}`\n        }\n\n        return hex.toUpperCase()\n      },\n\n      setColor: position => {\n        let { getPercentageDecimal } = this.UTIL\n\n        switch (this.mode) {\n          case 'single-hue':\n            this.PRIVATE.saturation = getPercentageDecimal(position.x, this.clientWidth) * 100\n            this.PRIVATE.value = 100 - (getPercentageDecimal(position.y, this.clientHeight) * 100)\n            break\n\n          case 'all-hues':\n            this.PRIVATE.hue = this.orientation === 'horizontal'\n              ? getPercentageDecimal(position.x, this.clientWidth) * 360\n              : getPercentageDecimal(position.y, this.clientHeight) * 360\n\n            this.PRIVATE.saturation = 100\n            this.PRIVATE.value = 100\n            break\n        }\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        let { defaultMode, validModes } = this.PRIVATE\n\n        switch (attribute) {\n          case 'mode':\n            let arr = newValue.split(' ').filter(axis => validModes.includes(axis))\n\n            if (!arr.length) {\n              this.setAttribute('mode', defaultMode)\n\n              return this.UTIL.throwError({\n                message: `Invalid mode \"${newValue}\". Valid values include: \"${validModes.join('\", \"')}\"`\n              })\n            }\n\n            break\n        }\n      },\n\n      connected: () => {\n        // Reset AuthorSliderElement defaults\n        if (!this.hasAttribute('axis')) {\n          this.axis = this.PRIVATE.defaultAxis\n        }\n\n        this.removeEventListener('pointerdown', this.PRIVATE.pointerdownHandler)\n\n        let { draw, initialWidth, initialHeight } = this.PRIVATE\n        draw(initialWidth, initialHeight)\n      },\n\n      // pointerenter: evt => {\n      //   let { draw, initialWidth, initialHeight } = this.PRIVATE\n      //\n      //   if (initialWidth !== this.clientWidth || initialHeight !== this.clientHeight) {\n      //     draw()\n      //   }\n      // },\n\n      pointerdown: evt => {\n        this.PRIVATE.position = this.PRIVATE.getRelativePosition(evt)\n\n        let { getPercentageDecimal } = this.UTIL\n        let { generateColorObject, generatePositionObject, handles, HSVToRGB, hue, pointermoveHandler, position } = this.PRIVATE\n\n        if (handles.length > 1) {\n          return\n        }\n\n        this.PRIVATE.setColor(position)\n\n        if (handles.length !== 0) {\n          handles.item(0).position = this.position\n        }\n\n        this.emit('change', {\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n\n        document.addEventListener('pointermove', pointermoveHandler)\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return [...AuthorSliderElement.observedAttributes, 'mode', 'orientation']\n  }\n\n  get hue () {\n    return this.PRIVATE.hue\n  }\n\n  set hue (val) {\n    val = Math.max(0, Math.min(360, val))\n    this.PRIVATE.hue = val === 360 ? 0 : val\n    this.PRIVATE.draw()\n\n    this.emit('change', {\n      color: this.PRIVATE.generateColorObject(),\n      position: this.PRIVATE.generatePositionObject()\n    })\n  }\n\n  // set saturation (val) {\n  //   this.PRIVATE.saturation = Math.max(0, Math.min(100, val))\n  //   console.log('REPOSITION TARGET')\n  // }\n\n  // set value (val) {\n  //   this.PRIVATE.value = Math.max(0, Math.min(100, val))\n  //   console.log('REPOSITION TARGET')\n  // }\n\n  // set hsv ({ h, s, v }) {\n  //   console.log(h, s, v)\n  // }\n\n  // set lightness (val) {\n  //   console.log(val);\n  // }\n\n  // set hsl ({ h, s, l }) {\n  //   console.log(h, s, l)\n  // }\n\n  // set red (val) {\n  //   console.log(val);\n  // }\n\n  // set g (val) {\n  //   console.log(val);\n  // }\n\n  // set blue (val) {\n  //   console.log(val);\n  // }\n\n  // set rgb ({ r, g, b }) {\n  //   console.log(r, g, b)\n  // }\n\n  // get hex () {\n  //\n  // }\n\n  // set hex (val) {\n  //   console.log(val);\n  // }\n\n  // set alpha (val) {\n  //   console.log(val)\n  // }\n\n  get position () {\n    return this.PRIVATE.generatePositionObject()\n  }\n\n  // get previousColor () {\n  //   return this.PRIVATE.generateColorObj(this.PRIVATE.previousColor)\n  // }\n\n  get selectedColor () {\n    return this.PRIVATE.generateColorObject()\n  }\n\n  // set selectedColor (color) {\n  //   if (color.startsWith('#')) {\n  //     return console.log('process hex')\n  //   }\n  //\n  //   if (color.startsWith('rgb')) {\n  //     return console.log('process rgb')\n  //   }\n  //\n  //   if (color.startsWith('hsl')) {\n  //     return console.log('process hsl')\n  //   }\n  // }\n}\n\ncustomElements.define('author-color-picker', AuthorColorPickerElement)\n\nexport default AuthorColorPickerElement\n"],"names":["AuthorColorPickerElement","PRIVATE","defaultAxis","pointerupHandler","evt","generateColorObject","generatePositionObject","handles","pointermoveHandler","reposition","length","item","position","emit","color","document","removeEventListener","buttons","addEventListener","getPercentageDecimal","UTIL","relative","getRelativePosition","x","y","setColor","defineProperties","defaultMode","private","readonly","default","defaultOrientation","validModes","hue","saturation","value","alpha","canvas","get","shadowRoot","querySelector","context","getContext","initialWidth","initialHeight","defineAttributes","mode","orientation","definePrivateMethods","drawSingleHueSpectrum","width","height","HSVToRGB","rgb","clearRect","fillStyle","fillRect","gradient","createLinearGradient","addColorStop","drawAllHueSpectrum","args","draw","clientWidth","clientHeight","throwError","message","h","s","v","r","g","b","a","hex","RGBToHex","rgba","join","i","f","p","q","t","Math","max","min","round","floor","unitToHex","unit","Number","toString","toUpperCase","registerListeners","detail","attribute","oldValue","newValue","arr","split","filter","axis","includes","setAttribute","connected","hasAttribute","pointerdownHandler","pointerdown","val","AuthorSliderElement","observedAttributes","customElements","define"],"mappings":"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"}