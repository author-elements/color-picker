{"version":3,"file":"author-color-picker.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorColorPickerElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      canvas: {\n        private: true,\n        readonly: true,\n        get: () => this.shadowRoot.querySelector('canvas')\n      },\n\n      context: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getContext('2d')\n      },\n\n      position: {\n        private: true,\n        default: {\n          x: 0,\n          y: 0\n        }\n      },\n\n      dimensions: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getBoundingClientRect()\n      },\n\n      initialWidth: {\n        private: true,\n        default: 0\n      },\n\n      initialheight: {\n        private: true,\n        default: 0\n      },\n\n      currentColor: {\n        private: true,\n        default: {\n          r: 255,\n          g: 255,\n          b: 255\n        }\n      },\n\n      selectedColor: {\n        private: true,\n        default: {\n          r: 255,\n          g: 255,\n          b: 255\n        }\n      },\n\n      previousColor: {\n        private: true,\n        default: {\n          r: 255,\n          g: 255,\n          b: 255\n        }\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      draw: (width = this.PRIVATE.dimensions.width, height = this.PRIVATE.dimensions.height) => {\n        let { canvas, context } = this.PRIVATE\n\n        canvas.width = width\n        canvas.height = height\n        context.clearRect(0, 0, width, height)\n\n        let gradient = {\n          x: context.createLinearGradient(0, 0, width, 0),\n          y: context.createLinearGradient(0, 0, 0, height)\n        }\n\n        gradient.x.addColorStop(0 / 6, 'red')\n        gradient.x.addColorStop(1 / 6, 'fuchsia')\n        gradient.x.addColorStop(2 / 6, 'blue')\n        gradient.x.addColorStop(3 / 6, 'aqua')\n        gradient.x.addColorStop(4 / 6, 'lime')\n        gradient.x.addColorStop(5 / 6, 'yellow')\n        gradient.x.addColorStop(6 / 6, 'red')\n\n        context.fillStyle = gradient.x\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n\n        gradient.y.addColorStop(0 / 4, 'white')\n        gradient.y.addColorStop(2 / 4, 'rgba(255,255,255,0)')\n        gradient.y.addColorStop(2 / 4, 'rgba(0,0,0,0)')\n        gradient.y.addColorStop(4 / 4, 'black')\n\n\t\t\t\tcontext.fillStyle = gradient.y\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n      },\n\n      generateColorObj: ({ r, g, b }) => {\n        let hsl = this.PRIVATE.RGBToHSL({ r, g, b })\n        let hue = hsl[0]\n        let saturation = hsl[1]\n        let lightness = hsl[2]\n\n        return {\n          red: r,\n          green: g,\n          blue: b,\n          hex: `#${this.PRIVATE.RGBToHex({ r, g, b })}`,\n          rgb: `rgb(${r},${g},${b})`,\n          hsl: `hsl(${hue},${saturation * 100}%, ${lightness * 100}%)`,\n          hue,\n          saturation,\n          lightness\n        }\n      },\n\n      unitToHex: unit => {\n        let hex = Number(unit).toString(16)\n\n        if (hex.length < 2) {\n          hex = `0${hex}`\n        }\n\n        return hex.toUpperCase()\n      },\n\n      RGBToHex: ({ r = 255, g = 255, b = 255 }) => {\n        let { unitToHex } = this.PRIVATE\n        return `${unitToHex(r)}${unitToHex(g)}${unitToHex(b)}`\n      },\n\n      RGBToHSL: ({ r, g, b }) => {\n        r /= 255, g /= 255, b /= 255\n\n      \tlet min = Math.min(r, g, b)\n      \tlet max = Math.max(r, g, b)\n      \tlet difference = max - min\n\n        let hue, saturation\n\n        switch (max) {\n          case min:\n            hue = 0\n            saturation = 0\n            break\n\n          case r:\n            hue = (g - b) / difference\n            break\n\n          case g:\n            hue = 2 + (b - r) / difference\n            break\n\n          case b:\n            hue = 4 + (r - g) / difference\n            break\n        }\n\n      \thue = Math.min(hue * 60, 360)\n\n      \tif (hue < 0) {\n      \t\thue += 360\n      \t}\n\n      \tlet lightness = (min + max) / 2\n\n      \tif (lightness <= 0.5) {\n      \t\tsaturation = difference / (max + min)\n      \t} else {\n      \t\tsaturation = difference / (2 - max - min)\n      \t}\n\n      \treturn [hue, saturation, lightness]\n      },\n\n      pointermoveHandler: evt => {\n        if (evt.buttons < 1) {\n          return\n        }\n\n        let { top, left, width, height } = this.PRIVATE.dimensions\n        let relative = this.PRIVATE.getRelativePosition(evt)\n\n        if (relative.x !== this.position.x.px || relative.y !== this.position.y.px) {\n          this.PRIVATE.currentColor = this.PRIVATE.getColor(relative)\n\n          this.PRIVATE.position = relative\n\n          this.emit('sample', {\n            color: this.PRIVATE.generateColorObj(this.PRIVATE.currentColor),\n            position: this.position\n          })\n\n          document.addEventListener('pointerup', this.PRIVATE.pointerupHandler)\n        }\n      },\n\n      getColor: ({ x, y }) => {\n        let { data } = this.PRIVATE.context.getImageData(x, y, 1, 1)\n\n        return {\n          r: data[0],\n          g: data[1],\n          b: data[2]\n        }\n      },\n\n      pointerupHandler: evt => {\n        let { currentColor, pointermoveHandler, pointerupHandler } = this.PRIVATE\n\n        this.PRIVATE.previousColor = this.PRIVATE.selectedColor\n        this.PRIVATE.selectedColor = currentColor\n\n        this.emit('change', {\n          previous: this.previousColor,\n          color: this.selectedColor,\n          position: this.position\n        })\n\n        document.removeEventListener('pointermove', pointermoveHandler)\n        document.removeEventListener('pointerup', pointerupHandler)\n      },\n\n      getRelativePosition: evt => {\n        let { top, left, width, height } = this.PRIVATE.dimensions\n\n        return {\n          x: Math.min(Math.max(evt.pageX - left, 0), width - .1),\n          y: Math.min(Math.max(evt.pageY - top, 0), height)\n        }\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        let { dimensions } = this.PRIVATE\n        this.PRIVATE.initialWidth = dimensions.width\n        this.PRIVATE.initialHeight = dimensions.height\n      },\n\n      rendered: () => {\n        let { draw } = this.PRIVATE\n        this.UTIL.registerListener(window, 'resize', evt => draw())\n        draw()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      pointerenter: evt => {\n        let { dimensions, draw, initialWidth, initialHeight } = this.PRIVATE\n\n        if (initialWidth !== dimensions.width || initialHeight !== dimensions.height) {\n          draw()\n        }\n      },\n\n      pointerdown: evt => {\n        this.PRIVATE.position = this.PRIVATE.getRelativePosition(evt)\n\n        let { position, getColor, pointermoveHandler } = this.PRIVATE\n\n        this.PRIVATE.previousColor = this.PRIVATE.selectedColor\n        this.PRIVATE.selectedColor = getColor(position)\n\n        this.emit('change', {\n          previous: this.previousColor,\n          color: this.selectedColor,\n          position: this.position\n        })\n\n        document.addEventListener('pointermove', pointermoveHandler)\n      }\n    })\n  }\n\n  get position () {\n    let { position, dimensions } = this.PRIVATE\n\n    return {\n      x: {\n        px: position.x,\n        percentage: this.UTIL.getPercentageDecimal(position.x, dimensions.width)\n      },\n\n      y: {\n        px: position.y,\n        percentage: this.UTIL.getPercentageDecimal(position.y, dimensions.height)\n      }\n    }\n  }\n\n  get previousColor () {\n    return this.PRIVATE.generateColorObj(this.PRIVATE.previousColor)\n  }\n\n  get selectedColor () {\n    return this.PRIVATE.generateColorObj(this.PRIVATE.selectedColor)\n  }\n}\n\ncustomElements.define('author-color-picker', AuthorColorPickerElement)\n\nexport default AuthorColorPickerElement\n"],"names":["AuthorColorPickerElement","UTIL","defineProperties","canvas","private","readonly","get","shadowRoot","querySelector","context","PRIVATE","getContext","position","default","x","y","dimensions","getBoundingClientRect","initialWidth","initialheight","currentColor","r","g","b","selectedColor","previousColor","definePrivateMethods","draw","width","height","clearRect","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","generateColorObj","hsl","RGBToHSL","hue","saturation","lightness","red","green","blue","hex","RGBToHex","rgb","unitToHex","unit","Number","toString","length","toUpperCase","min","Math","max","difference","pointermoveHandler","evt","buttons","top","left","relative","getRelativePosition","px","getColor","emit","color","document","addEventListener","pointerupHandler","getImageData","data","previous","removeEventListener","pageX","pageY","registerListeners","connected","initialHeight","rendered","registerListener","window","pointerenter","pointerdown","percentage","getPercentageDecimal","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"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"}