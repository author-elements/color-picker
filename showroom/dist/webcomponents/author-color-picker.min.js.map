{"version":3,"file":"author-color-picker.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorColorPickerElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      canvas: {\n        private: true,\n        readonly: true,\n        get: () => this.shadowRoot.querySelector('canvas')\n      },\n\n      context: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getContext('2d')\n      },\n\n      coords: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getBoundingClientRect()\n      },\n\n      initialWidth: {\n        private: true,\n        default: 0\n      },\n\n      initialheight: {\n        private: true,\n        default: 0\n      },\n\n      currentColor: {\n        private: true,\n        default: null\n      },\n\n      selectedColor: {\n        default: null\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      draw: (width, height) => {\n        let { canvas, context } = this.PRIVATE\n\n        canvas.width = width\n        canvas.height = height\n        context.clearRect(0, 0, width, height)\n\n        let gradient = {\n          x: context.createLinearGradient(0, 0, width, 0),\n          y: context.createLinearGradient(0, 0, 0, height)\n        }\n\n        gradient.x.addColorStop(0 / 6, 'red')\n        gradient.x.addColorStop(1 / 6, 'fuchsia')\n        gradient.x.addColorStop(2 / 6, 'blue')\n        gradient.x.addColorStop(3 / 6, 'aqua')\n        gradient.x.addColorStop(4 / 6, 'lime')\n        gradient.x.addColorStop(5 / 6, 'yellow')\n        gradient.x.addColorStop(6 / 6, 'red')\n\n        context.fillStyle = gradient.x\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n\n        gradient.y.addColorStop(0 / 4, 'white')\n        gradient.y.addColorStop(2 / 4, 'rgba(255,255,255,0)')\n        gradient.y.addColorStop(2 / 4, 'rgba(0,0,0,0)')\n        gradient.y.addColorStop(4 / 4, 'black')\n\n\t\t\t\tcontext.fillStyle = gradient.y\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        let { coords, draw } = this.PRIVATE\n\n        this.PRIVATE.initialWidth = coords.width\n        this.PRIVATE.initialHeight = coords.height\n\n        draw(coords.width, coords.height)\n      }\n    })\n\n    this.UTIL.registerListeners(this.PRIVATE.canvas, {\n      pointerenter: evt => {\n        let { coords, draw, initialWidth, initialHeight } = this.PRIVATE\n\n        if (initialWidth !== coords.width || initialHeight !== coords.height) {\n          draw(coords.width, coords.height)\n        }\n      },\n\n      pointermove: evt => {\n        let { context } = this.PRIVATE\n        let { data } = context.getImageData(evt.offsetX, evt.offsetY, 1, 1)\n        this.PRIVATE.currentColor = `rgb(${data[0]},${data[1]},${data[2]})`\n        console.log(this.currentColor);\n      }\n    })\n  }\n\n  get currentColor () {\n    return this.PRIVATE.currentColor\n  }\n}\n\ncustomElements.define('author-color-picker', AuthorColorPickerElement)\n\nexport default AuthorColorPickerElement\n"],"names":["AuthorColorPickerElement","AuthorBaseElement","HTMLElement","[object Object]","super","this","UTIL","defineProperties","canvas","private","readonly","get","shadowRoot","querySelector","context","PRIVATE","getContext","coords","getBoundingClientRect","initialWidth","default","initialheight","currentColor","selectedColor","definePrivateMethods","draw","width","height","clearRect","gradient","x","createLinearGradient","y","addColorStop","fillStyle","fillRect","registerListeners","connected","initialHeight","pointerenter","evt","pointermove","data","getImageData","offsetX","offsetY","console","log","customElements","define"],"mappings":"0tBAAA,MAAMA,UAAiCC,kBAAkBC,cACvDC,cACEC,MAAM,+aAENC,KAAKC,KAAKC,iBAAiB,CACzBC,OAAQ,CACNC,SAAS,EACTC,UAAU,EACVC,IAAK,IAAMN,KAAKO,WAAWC,cAAc,WAG3CC,QAAS,CACPL,SAAS,EACTC,UAAU,EACVC,IAAK,IAAMN,KAAKU,QAAQP,OAAOQ,WAAW,OAG5CC,OAAQ,CACNR,SAAS,EACTC,UAAU,EACVC,IAAK,IAAMN,KAAKU,QAAQP,OAAOU,yBAGjCC,aAAc,CACZV,SAAS,EACTW,QAAS,GAGXC,cAAe,CACbZ,SAAS,EACTW,QAAS,GAGXE,aAAc,CACZb,SAAS,EACTW,QAAS,MAGXG,cAAe,CACbH,QAAS,QAIbf,KAAKC,KAAKkB,qBAAqB,CAC7BC,KAAM,CAACC,EAAOC,KACZ,IAAInB,OAAEA,EAAMM,QAAEA,GAAYT,KAAKU,QAE/BP,EAAOkB,MAAQA,EACflB,EAAOmB,OAASA,EAChBb,EAAQc,UAAU,EAAG,EAAGF,EAAOC,GAE/B,IAAIE,EAAW,CACbC,EAAGhB,EAAQiB,qBAAqB,EAAG,EAAGL,EAAO,GAC7CM,EAAGlB,EAAQiB,qBAAqB,EAAG,EAAG,EAAGJ,IAG3CE,EAASC,EAAEG,aAAa,EAAO,OAC/BJ,EAASC,EAAEG,aAAa,EAAI,EAAG,WAC/BJ,EAASC,EAAEG,aAAa,EAAI,EAAG,QAC/BJ,EAASC,EAAEG,aAAa,GAAO,QAC/BJ,EAASC,EAAEG,aAAa,EAAI,EAAG,QAC/BJ,EAASC,EAAEG,aAAa,EAAI,EAAG,UAC/BJ,EAASC,EAAEG,aAAa,EAAO,OAE/BnB,EAAQoB,UAAYL,EAASC,EACjChB,EAAQqB,SAAS,EAAG,EAAGT,EAAOC,GAE1BE,EAASG,EAAEC,aAAa,EAAO,SAC/BJ,EAASG,EAAEC,aAAa,GAAO,uBAC/BJ,EAASG,EAAEC,aAAa,GAAO,iBAC/BJ,EAASG,EAAEC,aAAa,EAAO,SAEnCnB,EAAQoB,UAAYL,EAASG,EAC7BlB,EAAQqB,SAAS,EAAG,EAAGT,EAAOC,MAI9BtB,KAAKC,KAAK8B,kBAAkB/B,KAAM,CAChCgC,UAAW,KACT,IAAIpB,OAAEA,EAAMQ,KAAEA,GAASpB,KAAKU,QAE5BV,KAAKU,QAAQI,aAAeF,EAAOS,MACnCrB,KAAKU,QAAQuB,cAAgBrB,EAAOU,OAEpCF,EAAKR,EAAOS,MAAOT,EAAOU,WAI9BtB,KAAKC,KAAK8B,kBAAkB/B,KAAKU,QAAQP,OAAQ,CAC/C+B,aAAcC,IACZ,IAAIvB,OAAEA,EAAMQ,KAAEA,EAAIN,aAAEA,EAAYmB,cAAEA,GAAkBjC,KAAKU,QAErDI,IAAiBF,EAAOS,OAASY,IAAkBrB,EAAOU,QAC5DF,EAAKR,EAAOS,MAAOT,EAAOU,SAI9Bc,YAAaD,IACX,IAAI1B,QAAEA,GAAYT,KAAKU,SACnB2B,KAAEA,GAAS5B,EAAQ6B,aAAaH,EAAII,QAASJ,EAAIK,QAAS,EAAG,GACjExC,KAAKU,QAAQO,oBAAsBoB,EAAK,MAAMA,EAAK,MAAMA,EAAK,MAC9DI,QAAQC,IAAI1C,KAAKiB,iBAKvBA,mBACE,OAAOjB,KAAKU,QAAQO,qBAIxB0B,eAAeC,OAAO,sBAAuBjD"}