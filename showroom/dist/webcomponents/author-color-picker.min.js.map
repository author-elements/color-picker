{"version":3,"file":"author-color-picker.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorColorPickerElement extends AuthorSliderElement {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    // Override AuthorSliderElement defaults\n    this.PRIVATE.defaultAxis = '*'\n\n    this.PRIVATE.pointerupHandler = evt => {\n      let { generateColorObject, generatePositionObject, handles, pointermoveHandler, pointerupHandler } = this.PRIVATE\n      let reposition = true\n\n      // this.PRIVATE.previousColor = this.PRIVATE.selectedColor\n      // this.PRIVATE.selectedColor = currentColor\n\n      if (handles.length > 1) {\n        reposition = false\n      } else if (handles.length !== 0) {\n        handles.item(0).position = generatePositionObject()\n      }\n\n      if (reposition) {\n        this.emit('change', {\n          // previous: this.previousColor,\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n      }\n\n      document.removeEventListener('pointermove', pointermoveHandler)\n      document.removeEventListener('pointerup', pointerupHandler)\n    }\n\n    this.PRIVATE.pointermoveHandler = evt => {\n      if (evt.buttons < 1) {\n        return\n      }\n\n      document.addEventListener('pointerup', this.PRIVATE.pointerupHandler)\n\n      let { getPercentageDecimal } = this.UTIL\n      let { generateColorObject, generatePositionObject, handles, position } = this.PRIVATE\n      let relative = this.PRIVATE.getRelativePosition(evt)\n\n      if ((!this.position.x || relative.x !== position.x) || (!this.position.y || relative.y !== position.y)) {\n        this.PRIVATE.setColor(relative)\n        this.PRIVATE.position = relative\n\n        if (handles.length !== 0) {\n          handles.item(0).position = this.position\n        }\n\n        this.emit('slide', {\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n      }\n    }\n\n    this.UTIL.defineProperties({\n      defaultMode: {\n        private: true,\n        readonly: true,\n        default: 'single-hue'\n      },\n\n      defaultOrientation: {\n        private: true,\n        readonly: true,\n        default: 'horizontal'\n      },\n\n      validModes: {\n        private: true,\n        readonly: true,\n        default: ['single-hue', 'all-hues', 'gradient']\n      },\n\n      hue: {\n        private: true,\n        default: 0\n      },\n\n      saturation: {\n        private: true,\n        default: 0\n      },\n\n      value: {\n        private: true,\n        default: 100\n      },\n\n      alpha: {\n        private: true,\n        default: 100\n      },\n\n      canvas: {\n        private: true,\n        readonly: true,\n        get: () => this.shadowRoot.querySelector('canvas')\n      },\n\n      context: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getContext('2d')\n      },\n\n      initialWidth: {\n        private: true,\n        default: 236\n      },\n\n      initialHeight: {\n        private: true,\n        default: 118\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      mode: this.PRIVATE.defaultMode,\n      orientation: this.PRIVATE.defaultOrientation\n    })\n\n    this.UTIL.definePrivateMethods({\n      drawSingleHueSpectrum: (hue, width, height) => {\n        let { context, HSVToRGB } = this.PRIVATE\n        let rgb = HSVToRGB(hue, 100, 100)\n\n        context.clearRect(0, 0, width, height)\n        context.fillStyle = `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]}, 1)`\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n\n        let gradient = {\n          x: context.createLinearGradient(0, 0, width, 0),\n          y: context.createLinearGradient(0, 0, 0, height)\n        }\n\n        gradient.x.addColorStop(0, 'rgba(255, 255, 255, 1)')\n        gradient.x.addColorStop(1, 'rgba(255, 255, 255, 0)')\n\n        context.fillStyle = gradient.x\n        context.fillRect(0, 0, width, height)\n\n        gradient.y.addColorStop(0, 'rgba(0, 0, 0, 0)')\n        gradient.y.addColorStop(1, 'rgba(0, 0, 0, 1)')\n\n        context.fillStyle = gradient.y\n        context.fillRect(0, 0, width, height)\n      },\n\n      drawAllHueSpectrum: (width, height, orientation = 'horizontal') => {\n        let { context } = this.PRIVATE\n\n        // this.PRIVATE.hue = 0\n\n        let args = orientation === 'horizontal'\n          ? [0, 0, width, 0]\n          : [0, 0, 0, height]\n\n        let gradient = context.createLinearGradient(...args)\n\n        gradient.addColorStop(0 / 6, '#F00')\n        gradient.addColorStop(1 / 6, '#FF0')\n        gradient.addColorStop(2 / 6, '#0F0')\n        gradient.addColorStop(3 / 6, '#0FF')\n        gradient.addColorStop(4 / 6, '#00F')\n        gradient.addColorStop(5 / 6, '#F0F')\n        gradient.addColorStop(6 / 6, '#F00')\n\n        context.fillStyle = gradient\n        context.fillRect(0, 0, width, height)\n      },\n\n      draw: (width = this.clientWidth, height = this.clientHeight, hue = this.PRIVATE.hue) => {\n        let { canvas, drawAllHueSpectrum, drawSingleHueSpectrum } = this.PRIVATE\n\n        canvas.width = width\n        canvas.height = height\n\n        switch (this.mode) {\n          case 'single-hue': return drawSingleHueSpectrum(hue, width, height)\n          case 'all-hues': return drawAllHueSpectrum(width, height)\n\n          default: this.UTIL.throwError({\n            message: `Invalid mode \"${this.mode}\"`\n          })\n        }\n      },\n\n      generateColorObject: (h = this.PRIVATE.hue, s = this.PRIVATE.saturation, v = this.PRIVATE.value) => {\n        let { alpha, HSVToRGB } = this.PRIVATE\n\n        let rgb = HSVToRGB(h, s, v)\n        let r = rgb[0]\n        let g = rgb[1]\n        let b = rgb[2]\n\n        return {\n          r,\n          g,\n          b,\n          a: alpha,\n          hex: `#${this.PRIVATE.RGBToHex(...rgb)}`,\n          rgba: `rgba(${rgb.join(',')},${alpha / 100})`\n        }\n      },\n\n      HSVToRGB: (h, s, v) => {\n        let r, g, b, i, f, p, q, t\n\n        h = Math.max(0, Math.min(360, h))\n        s = Math.max(0, Math.min(100, s))\n        v = Math.max(0, Math.min(100, v))\n\n        s /= 100;\n        v /= 100;\n\n        if(s == 0) {\n          r = g = b = v\n\n          return [\n            Math.round(r * 255),\n            Math.round(g * 255),\n            Math.round(b * 255)\n          ]\n        }\n\n        h /= 60\n        i = Math.floor(h)\n        f = h - i\n        p = v * (1 - s)\n        q = v * (1 - s * f)\n        t = v * (1 - s * (1 - f))\n\n        switch(i) {\n          case 0:\n            r = v\n            g = t\n            b = p\n            break\n\n          case 1:\n            r = q\n            g = v\n            b = p\n            break\n\n          case 2:\n            r = p\n            g = v\n            b = t\n            break\n\n          case 3:\n            r = p\n            g = q\n            b = v\n            break\n\n          case 4:\n            r = t\n            g = p\n            b = v\n            break\n\n          default:\n            r = v\n            g = p\n            b = q\n        }\n\n        return [\n          Math.round(r * 255),\n          Math.round(g * 255),\n          Math.round(b * 255)\n        ]\n      },\n\n      RGBToHex: (r, g, b) => {\n        let { unitToHex } = this.PRIVATE\n        return `${unitToHex(r)}${unitToHex(g)}${unitToHex(b)}`\n      },\n\n      unitToHex: unit => {\n        let hex = Number(unit).toString(16)\n\n        if (hex.length < 2) {\n          hex = `0${hex}`\n        }\n\n        return hex.toUpperCase()\n      },\n\n      setColor: position => {\n        let { getPercentageDecimal } = this.UTIL\n\n        switch (this.mode) {\n          case 'single-hue':\n            this.PRIVATE.saturation = getPercentageDecimal(position.x, this.clientWidth) * 100\n            this.PRIVATE.value = 100 - (getPercentageDecimal(position.y, this.clientHeight) * 100)\n            break\n\n          case 'all-hues':\n            this.PRIVATE.hue = this.orientation === 'horizontal'\n              ? getPercentageDecimal(position.x, this.clientWidth) * 360\n              : getPercentageDecimal(position.y, this.clientHeight) * 360\n\n            this.PRIVATE.saturation = 100\n            this.PRIVATE.value = 100\n            break\n        }\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        let { defaultMode, validModes } = this.PRIVATE\n\n        switch (attribute) {\n          case 'mode':\n            let arr = newValue.split(' ').filter(axis => validModes.includes(axis))\n\n            if (!arr.length) {\n              this.setAttribute('mode', defaultMode)\n\n              return this.UTIL.throwError({\n                message: `Invalid mode \"${newValue}\". Valid values include: \"${validModes.join('\", \"')}\"`\n              })\n            }\n\n            break\n        }\n      },\n\n      connected: () => {\n        // Reset AuthorSliderElement defaults\n        if (!this.hasAttribute('axis')) {\n          this.axis = this.PRIVATE.defaultAxis\n        }\n\n        this.removeEventListener('pointerdown', this.PRIVATE.pointerdownHandler)\n\n        let { draw, initialWidth, initialHeight } = this.PRIVATE\n        draw(initialWidth, initialHeight)\n      },\n\n      // pointerenter: evt => {\n      //   let { draw, initialWidth, initialHeight } = this.PRIVATE\n      //\n      //   if (initialWidth !== this.clientWidth || initialHeight !== this.clientHeight) {\n      //     draw()\n      //   }\n      // },\n\n      pointerdown: evt => {\n        this.PRIVATE.position = this.PRIVATE.getRelativePosition(evt)\n\n        let { getPercentageDecimal } = this.UTIL\n        let { generateColorObject, generatePositionObject, handles, HSVToRGB, hue, pointermoveHandler, position } = this.PRIVATE\n\n        if (handles.length > 1) {\n          return\n        }\n\n        this.PRIVATE.setColor(position)\n\n        if (handles.length !== 0) {\n          handles.item(0).position = this.position\n        }\n\n        this.emit('change', {\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n\n        document.addEventListener('pointermove', pointermoveHandler)\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return [...AuthorSliderElement.observedAttributes, 'mode', 'orientation']\n  }\n\n  get hue () {\n    return this.PRIVATE.hue\n  }\n\n  set hue (val) {\n    val = Math.max(0, Math.min(360, val))\n    this.PRIVATE.hue = val === 360 ? 0 : val\n    this.PRIVATE.draw()\n\n    this.emit('change', {\n      color: this.PRIVATE.generateColorObject(),\n      position: this.PRIVATE.generatePositionObject()\n    })\n  }\n\n  // set saturation (val) {\n  //   this.PRIVATE.saturation = Math.max(0, Math.min(100, val))\n  //   console.log('REPOSITION TARGET')\n  // }\n\n  // set value (val) {\n  //   this.PRIVATE.value = Math.max(0, Math.min(100, val))\n  //   console.log('REPOSITION TARGET')\n  // }\n\n  // set hsv ({ h, s, v }) {\n  //   console.log(h, s, v)\n  // }\n\n  // set lightness (val) {\n  //   console.log(val);\n  // }\n\n  // set hsl ({ h, s, l }) {\n  //   console.log(h, s, l)\n  // }\n\n  // set red (val) {\n  //   console.log(val);\n  // }\n\n  // set g (val) {\n  //   console.log(val);\n  // }\n\n  // set blue (val) {\n  //   console.log(val);\n  // }\n\n  // set rgb ({ r, g, b }) {\n  //   console.log(r, g, b)\n  // }\n\n  // get hex () {\n  //\n  // }\n\n  // set hex (val) {\n  //   console.log(val);\n  // }\n\n  // set alpha (val) {\n  //   console.log(val)\n  // }\n\n  get position () {\n    return this.PRIVATE.generatePositionObject()\n  }\n\n  // get previousColor () {\n  //   return this.PRIVATE.generateColorObj(this.PRIVATE.previousColor)\n  // }\n\n  get selectedColor () {\n    return this.PRIVATE.generateColorObject()\n  }\n\n  // set selectedColor (color) {\n  //   if (color.startsWith('#')) {\n  //     return console.log('process hex')\n  //   }\n  //\n  //   if (color.startsWith('rgb')) {\n  //     return console.log('process rgb')\n  //   }\n  //\n  //   if (color.startsWith('hsl')) {\n  //     return console.log('process hsl')\n  //   }\n  // }\n}\n\ncustomElements.define('author-color-picker', AuthorColorPickerElement)\n\nexport default AuthorColorPickerElement\n"],"names":["AuthorColorPickerElement","AuthorSliderElement","[object Object]","super","this","PRIVATE","defaultAxis","pointerupHandler","evt","generateColorObject","generatePositionObject","handles","pointermoveHandler","reposition","length","item","position","emit","color","document","removeEventListener","buttons","addEventListener","getPercentageDecimal","UTIL","relative","getRelativePosition","x","y","setColor","defineProperties","defaultMode","private","readonly","default","defaultOrientation","validModes","hue","saturation","value","alpha","canvas","get","shadowRoot","querySelector","context","getContext","initialWidth","initialHeight","defineAttributes","mode","orientation","definePrivateMethods","drawSingleHueSpectrum","width","height","HSVToRGB","rgb","clearRect","fillStyle","fillRect","gradient","createLinearGradient","addColorStop","drawAllHueSpectrum","args","draw","clientWidth","clientHeight","throwError","message","h","s","v","r","g","b","a","hex","RGBToHex","rgba","join","i","f","p","q","t","Math","max","min","round","floor","unitToHex","unit","Number","toString","toUpperCase","registerListeners","attribute.change","attribute","oldValue","newValue","detail","split","filter","axis","includes","setAttribute","connected","hasAttribute","pointerdownHandler","pointerdown","observedAttributes","val","selectedColor","customElements","define"],"mappings":"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"}