{"version":3,"file":"author-color-picker.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorColorPickerElement extends AuthorSliderElement {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    // Override AuthorSliderElement defaults\n    this.PRIVATE.defaultAxis = '*'\n\n    this.PRIVATE.pointerupHandler = evt => {\n      let { generateColorObject, generatePositionObject, handles, pointermoveHandler, pointerupHandler } = this.PRIVATE\n      let reposition = true\n\n      // this.PRIVATE.previousColor = this.PRIVATE.selectedColor\n      // this.PRIVATE.selectedColor = currentColor\n\n      let position = null\n\n      if (handles.length > 1) {\n        reposition = false\n      } else if (handles.length !== 0) {\n        handles.item(0).position = position = generatePositionObject()\n      }\n\n      if (reposition) {\n        this.emit('change', {\n          // previous: this.previousColor,\n          color: generateColorObject(),\n          position: position || generatePositionObject()\n        })\n      }\n\n      document.removeEventListener('pointermove', pointermoveHandler)\n      document.removeEventListener('pointerup', pointerupHandler)\n    }\n\n    this.PRIVATE.pointermoveHandler = evt => {\n      if (evt.buttons < 1) {\n        return\n      }\n\n      document.addEventListener('pointerup', this.PRIVATE.pointerupHandler)\n\n      let { getPercentageDecimal } = this.UTIL\n      let { generateColorObject, generatePositionObject, handles, position } = this.PRIVATE\n      let relative = this.PRIVATE.getRelativePosition(evt)\n\n      if ((!this.position.x || relative.x !== position.x) || (!this.position.y || relative.y !== position.y)) {\n        this.PRIVATE.setColor(relative)\n        this.PRIVATE.position = relative\n\n        if (handles.length !== 0) {\n          handles.item(0).position = this.position\n        }\n\n        this.emit('slide', {\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n      }\n    }\n\n    this.UTIL.defineProperties({\n      defaultMode: {\n        private: true,\n        readonly: true,\n        default: 'single-hue'\n      },\n\n      defaultOrientation: {\n        private: true,\n        readonly: true,\n        default: 'horizontal'\n      },\n\n      validModes: {\n        private: true,\n        readonly: true,\n        default: ['single-hue', 'all-hues', 'gradient']\n      },\n\n      hue: {\n        private: true,\n        default: 0\n      },\n\n      saturation: {\n        private: true,\n        default: 0\n      },\n\n      value: {\n        private: true,\n        default: 100\n      },\n\n      alpha: {\n        private: true,\n        default: 100\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      mode: this.PRIVATE.defaultMode,\n      orientation: this.PRIVATE.defaultOrientation\n    })\n\n    this.UTIL.definePrivateMethods({\n      draw: () => {\n        let { handles, hue, HSVToRGB, saturation, value } = this.PRIVATE\n\n        switch (this.mode) {\n          case 'single-hue':\n            return this.UTIL.setStyleProperty('bgColorRule', 'background-color', `rgba(${HSVToRGB(hue, 100, 100).join(', ')}, 1)`)\n        }\n\n        if (handles.length === 1) {\n          handles.item(0).position = {\n            x: { pct: saturation / 100 },\n            y: { pct: 1 - (value / 100) }\n          }\n        }\n      },\n\n      generateColorObject: (h = this.PRIVATE.hue, s = this.PRIVATE.saturation, v = this.PRIVATE.value) => {\n        let { alpha, HSVToRGB } = this.PRIVATE\n\n        let rgb = HSVToRGB(h, s, v)\n        let r = rgb[0]\n        let g = rgb[1]\n        let b = rgb[2]\n\n        return {\n          hue: this.PRIVATE.hue,\n          saturation: this.PRIVATE.saturation,\n          value: this.PRIVATE.value,\n          r,\n          g,\n          b,\n          alpha,\n          hex: `#${this.PRIVATE.RGBToHex(...rgb)}`,\n          rgba: `rgba(${rgb.join(',')},${alpha / 100})`\n        }\n      },\n\n      hexToRGB: hex => {\n        let [ , short, long ] = String(hex).match(/^#?(?:([\\da-f]{3})[\\da-f]?|([\\da-f]{6})(?:[\\da-f]{2})?)$/i) || []\n        let rgb\n\n        if (short) {\n          return Array.from(short, s => Number.parseInt(s, 16)).map(n => (n << 4) | n)\n        }\n\n        let value = Number.parseInt(long, 16)\n        return [ value >> 16, value >> 8 & 0xFF, value & 0xFF ]\n      },\n\n      HSVToRGB: (h, s, v) => {\n        let r, g, b, i, f, p, q, t\n\n        h = Math.max(0, Math.min(360, h))\n        s = Math.max(0, Math.min(100, s))\n        v = Math.max(0, Math.min(100, v))\n\n        s /= 100;\n        v /= 100;\n\n        if(s == 0) {\n          r = g = b = v\n\n          return [\n            Math.round(r * 255),\n            Math.round(g * 255),\n            Math.round(b * 255)\n          ]\n        }\n\n        h /= 60\n        i = Math.floor(h)\n        f = h - i\n        p = v * (1 - s)\n        q = v * (1 - s * f)\n        t = v * (1 - s * (1 - f))\n\n        switch(i) {\n          case 0:\n            r = v\n            g = t\n            b = p\n            break\n\n          case 1:\n            r = q\n            g = v\n            b = p\n            break\n\n          case 2:\n            r = p\n            g = v\n            b = t\n            break\n\n          case 3:\n            r = p\n            g = q\n            b = v\n            break\n\n          case 4:\n            r = t\n            g = p\n            b = v\n            break\n\n          default:\n            r = v\n            g = p\n            b = q\n        }\n\n        return [\n          Math.round(r * 255),\n          Math.round(g * 255),\n          Math.round(b * 255)\n        ]\n      },\n\n      /**\n       * Converts an RGB color value to HSV. Conversion formula\n       * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n       * Assumes r, g, and b are contained in the set [0, 255] and\n       * returns h, s, and v in the set [0, 1].\n       *\n       * @param   Number  r       The red color value\n       * @param   Number  g       The green color value\n       * @param   Number  b       The blue color value\n       * @return  Array           The HSV representation\n       */\n      RGBToHSV: (red, green, blue) => {\n        red /= 255\n        green /= 255\n        blue /= 255\n\n        let max = Math.max(red, green, blue)\n        let min = Math.min(red, green, blue)\n        let hue, saturation, value = max\n\n        let difference = max - min\n        saturation = max === 0 ? 0 : difference / max\n\n        if (max === min) {\n          hue = 0\n        } else {\n          switch (max) {\n            case red:\n              hue = (green - blue) / difference + (green < blue ? 6 : 0)\n              break\n\n            case green:\n              hue = (blue - red) / difference + 2\n              break\n\n            case blue:\n              hue = (red - green) / difference + 4\n              break\n          }\n\n          hue /= 6\n        }\n\n        return [hue, saturation, value]\n      },\n\n      RGBToHex: (r, g, b) => {\n        let { unitToHex } = this.PRIVATE\n        return `${unitToHex(r)}${unitToHex(g)}${unitToHex(b)}`\n      },\n\n      unitToHex: unit => {\n        let hex = Number(unit).toString(16)\n\n        if (hex.length < 2) {\n          hex = `0${hex}`\n        }\n\n        return hex.toUpperCase()\n      },\n\n      setColor: (position, percentage = false) => {\n        let { getPercentageDecimal } = this.UTIL\n\n        switch (this.mode) {\n          case 'single-hue':\n            this.PRIVATE.saturation = getPercentageDecimal(position.x, this.clientWidth) * 100\n            this.PRIVATE.value = 100 - (getPercentageDecimal(position.y, this.clientHeight) * 100)\n            break\n\n          case 'all-hues':\n            this.PRIVATE.hue = this.orientation === 'horizontal'\n              ? getPercentageDecimal(position.x, this.clientWidth) * 360\n              : getPercentageDecimal(position.y, this.clientHeight) * 360\n\n            this.PRIVATE.saturation = 100\n            this.PRIVATE.value = 100\n            break\n        }\n      },\n\n      setRGB: (r, g, b) => {\n        let { generateColorObject, generatePositionObject, handles, RGBToHSV } = this.PRIVATE\n        let hsv = RGBToHSV(r, g, b)\n\n        this.PRIVATE.hue = hsv[0] * 360\n        this.PRIVATE.saturation = hsv[1] * 100\n        this.PRIVATE.value = hsv[2] * 100\n\n        this.PRIVATE.draw()\n\n        this.emit('change', {\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        let { defaultMode, validModes } = this.PRIVATE\n\n        switch (attribute) {\n          case 'mode':\n            let arr = newValue.split(' ').filter(axis => validModes.includes(axis))\n\n            if (!arr.length) {\n              this.setAttribute('mode', defaultMode)\n\n              return this.UTIL.throwError({\n                message: `Invalid mode \"${newValue}\". Valid values include: \"${validModes.join('\", \"')}\"`\n              })\n            }\n\n            break\n        }\n      },\n\n      connected: () => {\n        // Remove default author-slider pointerdown handler\n        this.removeEventListener('pointerdown', this.PRIVATE.pointerdownHandler)\n\n        // Reset AuthorSliderElement defaults\n        if (!this.hasAttribute('axis')) {\n          this.axis = this.PRIVATE.defaultAxis\n        }\n\n        this.UTIL.insertStyleRules({\n          bgColorRule: ':host {}'\n        })\n\n        this.PRIVATE.draw()\n      },\n\n      pointerdown: evt => {\n        this.PRIVATE.position = this.PRIVATE.getRelativePosition(evt)\n\n        let { getPercentageDecimal } = this.UTIL\n        let { generateColorObject, generatePositionObject, handles, HSVToRGB, hue, pointermoveHandler, position } = this.PRIVATE\n\n        if (handles.length > 1) {\n          return\n        }\n\n        this.PRIVATE.setColor(position)\n\n        if (handles.length !== 0) {\n          handles.item(0).position = this.position\n        }\n\n        this.emit('change', {\n          color: generateColorObject(),\n          position: generatePositionObject()\n        })\n\n        document.addEventListener('pointermove', pointermoveHandler)\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return [...AuthorSliderElement.observedAttributes, 'mode', 'orientation']\n  }\n\n  get hue () {\n    return this.PRIVATE.hue\n  }\n\n  set hue (val) {\n    val = Math.max(0, Math.min(360, val))\n    this.PRIVATE.hue = val === 360 ? 0 : val\n    this.PRIVATE.draw()\n\n    this.emit('change', {\n      color: this.PRIVATE.generateColorObject(),\n      position: this.PRIVATE.generatePositionObject()\n    })\n  }\n\n  // set saturation (val) {\n  //   this.PRIVATE.saturation = Math.max(0, Math.min(100, val))\n  //   console.log('REPOSITION TARGET')\n  // }\n\n  // set value (val) {\n  //   this.PRIVATE.value = Math.max(0, Math.min(100, val))\n  //   console.log('REPOSITION TARGET')\n  // }\n\n  // set hsv ({ h, s, v }) {\n  //   console.log(h, s, v)\n  // }\n\n  // set lightness (val) {\n  //   console.log(val);\n  // }\n\n  // set hsl ({ h, s, l }) {\n  //   console.log(h, s, l)\n  // }\n\n  // set red (val) {\n  //   console.log(val);\n  // }\n\n  // set g (val) {\n  //   console.log(val);\n  // }\n\n  // set blue (val) {\n  //   console.log(val);\n  // }\n\n  set rgb ({r = 0, g = 0, b = 0}) {\n    this.PRIVATE.setRGB(r, g, b)\n  }\n\n  // get hex () {\n  //\n  // }\n\n  set hex (val) {\n    this.PRIVATE.setRGB(...this.PRIVATE.hexToRGB(val))\n  }\n\n  // set alpha (val) {\n  //   console.log(val)\n  // }\n\n  get position () {\n    return this.PRIVATE.generatePositionObject()\n  }\n\n  // get previousColor () {\n  //   return this.PRIVATE.generateColorObj(this.PRIVATE.previousColor)\n  // }\n\n  get selectedColor () {\n    return this.PRIVATE.generateColorObject()\n  }\n\n  // set selectedColor (color) {\n  //   if (color.startsWith('#')) {\n  //     return console.log('process hex')\n  //   }\n  //\n  //   if (color.startsWith('rgb')) {\n  //     return console.log('process rgb')\n  //   }\n  //\n  //   if (color.startsWith('hsl')) {\n  //     return console.log('process hsl')\n  //   }\n  // }\n}\n\ncustomElements.define('author-color-picker', AuthorColorPickerElement)\n\nexport default AuthorColorPickerElement\n"],"names":["AuthorColorPickerElement","AuthorSliderElement","[object Object]","super","this","PRIVATE","defaultAxis","pointerupHandler","evt","generateColorObject","generatePositionObject","handles","pointermoveHandler","reposition","position","length","item","emit","color","document","removeEventListener","buttons","addEventListener","getPercentageDecimal","UTIL","relative","getRelativePosition","x","y","setColor","defineProperties","defaultMode","private","readonly","default","defaultOrientation","validModes","hue","saturation","value","alpha","defineAttributes","mode","orientation","definePrivateMethods","draw","HSVToRGB","setStyleProperty","join","pct","h","s","v","rgb","r","g","b","hex","RGBToHex","rgba","hexToRGB","short","long","String","match","Array","from","Number","parseInt","map","n","i","f","p","q","t","Math","max","min","round","floor","RGBToHSV","red","green","blue","difference","unitToHex","unit","toString","toUpperCase","percentage","clientWidth","clientHeight","setRGB","hsv","registerListeners","attribute.change","attribute","oldValue","newValue","detail","split","filter","axis","includes","setAttribute","throwError","message","connected","pointerdownHandler","hasAttribute","insertStyleRules","bgColorRule","pointerdown","observedAttributes","val","selectedColor","customElements","define"],"mappings":"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"}