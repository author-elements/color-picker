{"version":3,"file":"author-color-picker.js","sources":["../src/element.js"],"sourcesContent":["class AuthorColorPickerElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      canvas: {\n        private: true,\n        readonly: true,\n        get: () => this.shadowRoot.querySelector('canvas')\n      },\n\n      context: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getContext('2d')\n      },\n\n      coords: {\n        private: true,\n        readonly: true,\n        get: () => this.PRIVATE.canvas.getBoundingClientRect()\n      },\n\n      initialWidth: {\n        private: true,\n        default: 0\n      },\n\n      initialheight: {\n        private: true,\n        default: 0\n      },\n\n      currentColor: {\n        private: true,\n        default: null\n      },\n\n      selectedColor: {\n        default: null\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      draw: (width, height) => {\n        let { canvas, context } = this.PRIVATE\n\n        canvas.width = width\n        canvas.height = height\n        context.clearRect(0, 0, width, height)\n\n        let gradient = {\n          x: context.createLinearGradient(0, 0, width, 0),\n          y: context.createLinearGradient(0, 0, 0, height)\n        }\n\n        gradient.x.addColorStop(0 / 6, 'red')\n        gradient.x.addColorStop(1 / 6, 'fuchsia')\n        gradient.x.addColorStop(2 / 6, 'blue')\n        gradient.x.addColorStop(3 / 6, 'aqua')\n        gradient.x.addColorStop(4 / 6, 'lime')\n        gradient.x.addColorStop(5 / 6, 'yellow')\n        gradient.x.addColorStop(6 / 6, 'red')\n\n        context.fillStyle = gradient.x\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n\n        gradient.y.addColorStop(0 / 4, 'white')\n        gradient.y.addColorStop(2 / 4, 'rgba(255,255,255,0)')\n        gradient.y.addColorStop(2 / 4, 'rgba(0,0,0,0)')\n        gradient.y.addColorStop(4 / 4, 'black')\n\n\t\t\t\tcontext.fillStyle = gradient.y\n\t\t\t\tcontext.fillRect(0, 0, width, height)\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        let { coords, draw } = this.PRIVATE\n\n        this.PRIVATE.initialWidth = coords.width\n        this.PRIVATE.initialHeight = coords.height\n\n        draw(coords.width, coords.height)\n      }\n    })\n\n    this.UTIL.registerListeners(this.PRIVATE.canvas, {\n      pointerenter: evt => {\n        let { coords, draw, initialWidth, initialHeight } = this.PRIVATE\n\n        if (initialWidth !== coords.width || initialHeight !== coords.height) {\n          draw(coords.width, coords.height)\n        }\n      },\n\n      pointermove: evt => {\n        let { context } = this.PRIVATE\n        let { data } = context.getImageData(evt.offsetX, evt.offsetY, 1, 1)\n        this.PRIVATE.currentColor = `rgb(${data[0]},${data[1]},${data[2]})`\n        console.log(this.currentColor);\n      }\n    })\n  }\n\n  get currentColor () {\n    return this.PRIVATE.currentColor\n  }\n}\n\ncustomElements.define('author-color-picker', AuthorColorPickerElement)\n\nexport default AuthorColorPickerElement\n"],"names":[],"mappings":"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"}