var AuthorColorPickerElement=function(){"use strict";function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var e;window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-color-picker> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),0<(e=Array.from(new Set([])).filter(function(e){return!customElements.get(e)})).length&&(console.error("[ERROR] <author-color-picker> Required dependenc".concat(1!==e.length?"ies":"y"," not found: ").concat(e.map(function(e){return"<".concat(e,">")}).join(", ").replace(", "+e[e.length-1]," and "+e[e.length-1]))),e.forEach(function(e,t){return console.info("".concat(t+1,". <").concat(e,"> is available at ").concat("https://github.com/author-elements/color-picker".replace("color-picker",e.replace("author-",""))))}));var t=function(e){function o(){var s,e,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e=this,t=a(o).call(this,'<template><style>@charset "UTF-8"; :host{contain:content;display:flex;flex-direction:column}:host *,:host :after,:host :before{box-sizing:border-box}:host ::slotted(*){position:absolute;z-index:1}:host,:host([mode=single-hue]){background:linear-gradient(to bottom,transparent 0,#000 100%),linear-gradient(to right,#fff 0,transparent 100%)}:host([mode=all-hues]){background:linear-gradient(to right,red 0,#ff0 calc(1 / 6 * 100%),#0f0 calc(1 / 3 * 100%),#0ff 50%,#00f calc(2 / 3 * 100%),#f0f calc(5 / 6 * 100%),red 100%)}author-color-picker{contain:content;display:flex;flex-direction:column}author-color-picker *,author-color-picker :after,author-color-picker :before{box-sizing:border-box}author-color-picker *{position:absolute;z-index:1}author-color-picker,author-color-picker[mode=single-hue]{background:linear-gradient(to bottom,transparent 0,#000 100%),linear-gradient(to right,#fff 0,transparent 100%)}author-color-picker[mode=all-hues]{background:linear-gradient(to right,red 0,#ff0 calc(1 / 6 * 100%),#0f0 calc(1 / 3 * 100%),#0ff 50%,#00f calc(2 / 3 * 100%),#f0f calc(5 / 6 * 100%),red 100%)}</style><slot></slot></template>'),(s=!t||"object"!=typeof t&&"function"!=typeof t?l(e):t).PRIVATE.defaultAxis="*",s.PRIVATE.pointerupHandler=function(e){var t=s.PRIVATE,o=t.generateColorObject,n=t.generatePositionObject,r=t.handles,i=t.pointermoveHandler,a=t.pointerupHandler,c=!0,l=null;1<r.length?c=!1:0!==r.length&&(r.item(0).position=l=n()),c&&s.emit("change",{color:o(),position:l||n()}),document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",a)},s.PRIVATE.pointermoveHandler=function(e){if(!(e.buttons<1)){document.addEventListener("pointerup",s.PRIVATE.pointerupHandler);s.UTIL.getPercentageDecimal;var t=s.PRIVATE,o=t.generateColorObject,n=t.generatePositionObject,r=t.handles,i=t.position,a=s.PRIVATE.getRelativePosition(e);s.position.x&&a.x===i.x&&s.position.y&&a.y===i.y||(s.PRIVATE.setColor(a),s.PRIVATE.position=a,0!==r.length&&(r.item(0).position=s.position),s.emit("slide",{color:o(),position:n()}))}},s.UTIL.defineProperties({defaultMode:{private:!0,readonly:!0,default:"single-hue"},defaultOrientation:{private:!0,readonly:!0,default:"horizontal"},validModes:{private:!0,readonly:!0,default:["single-hue","all-hues","gradient"]},hue:{private:!0,default:0},saturation:{private:!0,default:0},value:{private:!0,default:100},alpha:{private:!0,default:100}}),s.UTIL.defineAttributes({mode:s.PRIVATE.defaultMode,orientation:s.PRIVATE.defaultOrientation}),s.UTIL.definePrivateMethods({draw:function(){var e=s.PRIVATE,t=e.handles,o=e.hue,n=e.HSVToRGB,r=e.saturation,i=e.value;switch(s.mode){case"single-hue":return s.UTIL.setStyleProperty("bgColorRule","background-color","rgba(".concat(n(o,100,100).join(", "),", 1)"))}1===t.length&&(t.item(0).position={x:{pct:r/100},y:{pct:1-i/100}})},generateColorObject:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.PRIVATE.hue,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.PRIVATE.saturation,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.PRIVATE.value,r=s.PRIVATE,i=r.alpha,a=(0,r.HSVToRGB)(t,o,n),c=a[0],l=a[1],u=a[2];return{hue:s.PRIVATE.hue,saturation:s.PRIVATE.saturation,value:s.PRIVATE.value,r:c,g:l,b:u,alpha:i,hex:"#".concat((e=s.PRIVATE).RGBToHex.apply(e,h(a))),rgba:"rgba(".concat(a.join(","),",").concat(i/100,")")}},hexToRGB:function(e){var t=u(String(e).match(/^#?(?:([\da-f]{3})[\da-f]?|([\da-f]{6})(?:[\da-f]{2})?)$/i)||[],3),o=t[1],n=t[2];if(o)return Array.from(o,function(e){return Number.parseInt(e,16)}).map(function(e){return e<<4|e});var r=Number.parseInt(n,16);return[r>>16,r>>8&255,255&r]},HSVToRGB:function(e,t,o){var n,r,i,a,c,l,u,s;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),o=Math.max(0,Math.min(100,o)),o/=100,0==(t/=100))return n=r=i=o,[Math.round(255*n),Math.round(255*r),Math.round(255*i)];switch(l=o*(1-t),u=o*(1-t*(c=(e/=60)-(a=Math.floor(e)))),s=o*(1-t*(1-c)),a){case 0:n=o,r=s,i=l;break;case 1:n=u,r=o,i=l;break;case 2:n=l,r=o,i=s;break;case 3:n=l,r=u,i=o;break;case 4:n=s,r=l,i=o;break;default:n=o,r=l,i=u}return[Math.round(255*n),Math.round(255*r),Math.round(255*i)]},RGBToHSV:function(e,t,o){e/=255,t/=255,o/=255;var n,r,i=Math.max(e,t,o),a=Math.min(e,t,o),c=i,l=i-a;if(r=0===i?0:l/i,i===a)n=0;else{switch(i){case e:n=(t-o)/l+(t<o?6:0);break;case t:n=(o-e)/l+2;break;case o:n=(e-t)/l+4}n/=6}return[n,r,c]},RGBToHex:function(e,t,o){var n=s.PRIVATE.unitToHex;return"".concat(n(e)).concat(n(t)).concat(n(o))},unitToHex:function(e){var t=Number(e).toString(16);return t.length<2&&(t="0".concat(t)),t.toUpperCase()},setColor:function(e){var t=s.UTIL.getPercentageDecimal;switch(s.mode){case"single-hue":s.PRIVATE.saturation=100*t(e.x,s.clientWidth),s.PRIVATE.value=100-100*t(e.y,s.clientHeight);break;case"all-hues":s.PRIVATE.hue="horizontal"===s.orientation?360*t(e.x,s.clientWidth):360*t(e.y,s.clientHeight),s.PRIVATE.saturation=100,s.PRIVATE.value=100}},setRGB:function(e,t,o){var n=s.PRIVATE,r=n.generateColorObject,i=n.generatePositionObject,a=(n.handles,(0,n.RGBToHSV)(e,t,o));s.PRIVATE.hue=360*a[0],s.PRIVATE.saturation=100*a[1],s.PRIVATE.value=100*a[2],s.PRIVATE.draw(),s.emit("change",{color:r(),position:i()})}}),s.UTIL.registerListeners(l(s),{"attribute.change":function(e){var t=e.detail,o=t.attribute,n=t.oldValue,r=t.newValue;if(r!==n){var i=s.PRIVATE,a=i.defaultMode,c=i.validModes;switch(o){case"mode":if(!r.split(" ").filter(function(e){return c.includes(e)}).length)return s.setAttribute("mode",a),s.UTIL.throwError({message:'Invalid mode "'.concat(r,'". Valid values include: "').concat(c.join('", "'),'"')})}}},connected:function(){s.removeEventListener("pointerdown",s.PRIVATE.pointerdownHandler),s.hasAttribute("axis")||(s.axis=s.PRIVATE.defaultAxis),s.UTIL.insertStyleRules({bgColorRule:":host {}"}),s.PRIVATE.draw()},pointerdown:function(e){s.PRIVATE.position=s.PRIVATE.getRelativePosition(e);s.UTIL.getPercentageDecimal;var t=s.PRIVATE,o=t.generateColorObject,n=t.generatePositionObject,r=t.handles,i=(t.HSVToRGB,t.hue,t.pointermoveHandler),a=t.position;1<r.length||(s.PRIVATE.setColor(a),0!==r.length&&(r.item(0).position=s.position),s.emit("change",{color:o(),position:n()}),document.addEventListener("pointermove",i))}}),s}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,AuthorSliderElement),t=o,r=[{key:"observedAttributes",get:function(){return[].concat(h(AuthorSliderElement.observedAttributes),["mode","orientation"])}}],(n=[{key:"hue",get:function(){return this.PRIVATE.hue},set:function(e){e=Math.max(0,Math.min(360,e)),this.PRIVATE.hue=360===e?0:e,this.PRIVATE.draw(),this.emit("change",{color:this.PRIVATE.generateColorObject(),position:this.PRIVATE.generatePositionObject()})}},{key:"rgb",set:function(e){var t=e.r,o=void 0===t?0:t,n=e.g,r=void 0===n?0:n,i=e.b,a=void 0===i?0:i;this.PRIVATE.setRGB(o,r,a)}},{key:"hex",set:function(e){var t;(t=this.PRIVATE).setRGB.apply(t,h(this.PRIVATE.hexToRGB(e)))}},{key:"position",get:function(){return this.PRIVATE.generatePositionObject()}},{key:"selectedColor",get:function(){return this.PRIVATE.generateColorObject()}}])&&i(t.prototype,n),r&&i(t,r),o}();return customElements.define("author-color-picker",t),t}();
//# sourceMappingURL=author-color-picker.es5.min.js.map
