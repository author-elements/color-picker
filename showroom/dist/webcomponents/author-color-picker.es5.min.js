var AuthorColorPickerElement=function(){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var t;window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-color-picker> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),0<(t=Array.from(new Set([])).filter(function(t){return!customElements.get(t)})).length&&(console.error("[ERROR] <author-color-picker> Required dependenc".concat(1!==t.length?"ies":"y"," not found: ").concat(t.map(function(t){return"<".concat(t,">")}).join(", ").replace(", "+t[t.length-1]," and "+t[t.length-1]))),t.forEach(function(t,e){return console.info("".concat(e+1,". <").concat(t,"> is available at ").concat("https://github.com/author-elements/color-picker".replace("color-picker",t.replace("author-",""))))}));var e=function(t){function n(){var s,t,e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t=this,e=a(n).call(this,'<template><style>@charset "UTF-8"; :host{contain:content;display:flex;flex-direction:column}:host *,:host :after,:host :before{box-sizing:border-box}:host ::slotted(*){position:absolute;z-index:1}:host{background-image:linear-gradient(to bottom,transparent 0,#000 100%),linear-gradient(to right,#fff 0,transparent 100%)}:host([mode=hue]){background-image:linear-gradient(to right,red 0,#ff0 calc(1 / 6 * 100%),#0f0 calc(1 / 3 * 100%),#0ff 50%,#00f calc(2 / 3 * 100%),#f0f calc(5 / 6 * 100%),red 100%)}author-color-picker{contain:content;display:flex;flex-direction:column}author-color-picker *,author-color-picker :after,author-color-picker :before{box-sizing:border-box}author-color-picker *{position:absolute;z-index:1}author-color-picker{background-image:linear-gradient(to bottom,transparent 0,#000 100%),linear-gradient(to right,#fff 0,transparent 100%)}author-color-picker[mode=hue]{background-image:linear-gradient(to right,red 0,#ff0 calc(1 / 6 * 100%),#0f0 calc(1 / 3 * 100%),#0ff 50%,#00f calc(2 / 3 * 100%),#f0f calc(5 / 6 * 100%),red 100%)}</style><slot></slot></template>'),(s=!e||"object"!=typeof e&&"function"!=typeof e?c(t):e).PRIVATE.defaultAxis="*",s.PRIVATE.pointerupHandler=function(t){var e=s.PRIVATE,n=e.generateColorObject,o=e.generatePositionObject,r=e.handles,i=e.pointermoveHandler,a=e.pointerupHandler,u=!0,c=null;1<r.length?u=!1:0!==r.length&&(r.item(0).position=c=o()),u&&s.emit("change",{color:n(),position:c||o()}),document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",a)},s.PRIVATE.pointermoveHandler=function(t){if(!(t.buttons<1)){s.UTIL.getPercentageDecimal;var e=s.PRIVATE,n=e.generateColorObject,o=e.generatePositionObject,r=e.handles,i=e.position,a=s.PRIVATE.getRelativePosition(t);s.position.x&&a.x===i.x&&s.position.y&&a.y===i.y||(s.PRIVATE.setSampledColor(a),s.PRIVATE.position=a,0!==r.length&&(r.item(0).position=s.position),s.emit("slide",{color:n(),position:o()}))}},s.UTIL.defineProperties({defaultMode:{private:!0,readonly:!0,default:"default"},defaultOrientation:{private:!0,readonly:!0,default:"horizontal"},validModes:{private:!0,readonly:!0,default:["default","hue","gradient"]},hue:{private:!0,default:0},saturation:{private:!0,default:0},value:{private:!0,default:100},alpha:{private:!0,default:100}}),s.UTIL.defineAttributes({mode:s.PRIVATE.defaultMode,orientation:s.PRIVATE.defaultOrientation}),s.UTIL.definePrivateMethods({update:function(){var t=s.PRIVATE,e=t.hue,n=t.saturation,o=t.value,r=t.HSVToRGB,i=t.setHandlePosition;switch(s.mode){case"default":return s.UTIL.setStyleProperty("bgColorRule","background-color","rgba(".concat(r(e,100,100).join(", "),", 1)")),i({x:{pct:n/100},y:{pct:1-o/100}});case"hue":return i({x:{pct:e/360}})}},setHandlePosition:function(t){var e=s.PRIVATE.handles;1===e.length&&(e.item(0).position=t)},generateColorObject:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.PRIVATE.hue,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.PRIVATE.saturation,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.PRIVATE.value,r=s.PRIVATE,i=r.alpha,a=(0,r.HSVToRGB)(e,n,o),u=a[0],c=a[1],l=a[2];return{hue:s.PRIVATE.hue,saturation:s.PRIVATE.saturation,value:s.PRIVATE.value,r:u,g:c,b:l,alpha:i,hex:"#".concat((t=s.PRIVATE).RGBToHex.apply(t,h(a))),rgba:"rgba(".concat(a.join(","),",").concat(i/100,")")}},hexToRGB:function(t){var e=l(String(t).match(/^#?(?:([\da-f]{3})[\da-f]?|([\da-f]{6})(?:[\da-f]{2})?)$/i)||[],3),n=e[1],o=e[2];if(n)return Array.from(n,function(t){return Number.parseInt(t,16)}).map(function(t){return t<<4|t});var r=Number.parseInt(o,16);return[r>>16,r>>8&255,255&r]},HSVToRGB:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.PRIVATE.hue,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.PRIVATE.saturation,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.PRIVATE.value;n=Math.max(0,Math.min(360,n)),o=Math.max(0,Math.min(100,o))/100,r=Math.max(0,Math.min(100,r))/100;var t=function(t){var e=(t+n/60)%6;return r-r*o*Math.max(Math.min(e,4-e,1),0)};return[255*t(5),255*t(3),255*t(1)]},RGBToHex:function(t,e,n){var o=function(t){var e=Number(t).toString(16);return e.length<2&&(e="0".concat(e)),e.toUpperCase()};return"".concat(o(t)).concat(o(e)).concat(o(n))},RGBToHSV:function(t,e,n){t/=255,e/=255,n/=255;var o,r,i=Math.max(t,e,n),a=Math.min(t,e,n),u=i,c=i-a;if(r=0===i?0:c/i,i===a)o=0;else{switch(i){case t:o=60*(0+(e-n)/c);break;case e:o=60*(2+(n-t)/c);break;case n:o=60*(4+(t-e)/c)}o=o<0?o+360:o}return[o,100*r,100*u]},setSampledColor:function(t){var e=s.UTIL.getPercentageDecimal;switch(s.mode){case"default":s.PRIVATE.saturation=100*e(t.x,s.clientWidth),s.PRIVATE.value=100-100*e(t.y,s.clientHeight);break;case"hue":s.PRIVATE.hue="horizontal"===s.orientation?360*e(t.x,s.clientWidth):360*e(t.y,s.clientHeight),s.PRIVATE.saturation=100,s.PRIVATE.value=100}},setRGB:function(t,e,n){var o=s.PRIVATE.RGBToHSV(t,e,n);s.PRIVATE.hue=o[0],s.PRIVATE.saturation=o[1],s.PRIVATE.value=o[2],s.PRIVATE.update()}}),s.UTIL.registerListeners(c(s),{"attribute.change":function(t){var e=t.detail,n=e.attribute,o=e.oldValue,r=e.newValue;if(r!==o){var i=s.PRIVATE,a=i.defaultMode,u=i.validModes;switch(n){case"mode":return r.split(" ").filter(function(t){return u.includes(t)}).length?s.PRIVATE.update():(s.setAttribute("mode",a),s.UTIL.throwError({message:'Invalid mode "'.concat(r,'". Valid values include: "').concat(u.join('", "'),'"')}))}}},connected:function(){s.removeEventListener("pointerdown",s.PRIVATE.pointerdownHandler),s.hasAttribute("axis")||(s.axis=s.PRIVATE.defaultAxis),s.UTIL.insertStyleRules({bgColorRule:":host {}"}),s.PRIVATE.update()},pointerdown:function(t){s.PRIVATE.position=s.PRIVATE.getRelativePosition(t);s.UTIL.getPercentageDecimal;var e=s.PRIVATE,n=e.generateColorObject,o=e.generatePositionObject,r=e.handles,i=(e.HSVToRGB,e.hue,e.pointermoveHandler),a=e.pointerupHandler,u=e.position;1<r.length||(s.PRIVATE.setSampledColor(u),0!==r.length&&(r.item(0).position=s.position),s.emit("change",{color:n(),position:o()}),document.addEventListener("pointerup",a),document.addEventListener("pointermove",i))}}),s}var e,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,AuthorSliderElement),e=n,r=[{key:"observedAttributes",get:function(){return[].concat(h(AuthorSliderElement.observedAttributes),["mode","orientation"])}}],(o=[{key:"position",get:function(){return this.PRIVATE.generatePositionObject()}},{key:"selectedColor",get:function(){return this.PRIVATE.generateColorObject()}},{key:"hue",get:function(){return this.PRIVATE.hue},set:function(t){t=Math.max(0,Math.min(360,t)),this.PRIVATE.hue=360===t?0:t,this.PRIVATE.update()}},{key:"rgb",get:function(){return this.PRIVATE.HSVToRGB()},set:function(t){var e=t.r,n=void 0===e?0:e,o=t.g,r=void 0===o?0:o,i=t.b,a=void 0===i?0:i;this.PRIVATE.setRGB(Math.min(n,255),Math.min(r,255),Math.min(a,255))}},{key:"red",set:function(t){var e,n=this.PRIVATE.HSVToRGB();(e=this.PRIVATE).setRGB.apply(e,[Math.min(t,255)].concat(h(n.slice(1))))}},{key:"r",set:function(t){this.red=t}},{key:"green",set:function(t){var e=this.PRIVATE.HSVToRGB();this.PRIVATE.setRGB(e[0],Math.min(t,255),e[2])}},{key:"g",set:function(t){this.green=t}},{key:"blue",set:function(t){var e,n=this.PRIVATE.HSVToRGB();(e=this.PRIVATE).setRGB.apply(e,h(n.slice(-2)).concat([Math.min(t,255)]))}},{key:"b",set:function(t){this.blue=t}},{key:"hex",get:function(){var t;return"#".concat((t=this.PRIVATE).RGBToHex.apply(t,h(this.PRIVATE.HSVToRGB())))},set:function(t){var e;(e=this.PRIVATE).setRGB.apply(e,h(this.PRIVATE.hexToRGB(t)))}},{key:"saturation",set:function(t){this.PRIVATE.saturation=Math.max(0,Math.min(100,t)),this.PRIVATE.update()}},{key:"s",set:function(t){this.saturation=t}},{key:"value",set:function(t){this.PRIVATE.value=Math.max(0,Math.min(100,t)),this.PRIVATE.update()}},{key:"v",set:function(t){this.value=t}},{key:"hsv",set:function(t){var e=t.h,n=t.s,o=t.v;e=Math.max(0,Math.min(360,e)),this.PRIVATE.hue=360===e?0:e,this.PRIVATE.saturation=Math.max(0,Math.min(100,n)),this.PRIVATE.value=Math.max(0,Math.min(100,o)),this.PRIVATE.update()}}])&&i(e.prototype,o),r&&i(e,r),n}();return customElements.define("author-color-picker",e),e}();
//# sourceMappingURL=author-color-picker.es5.min.js.map
