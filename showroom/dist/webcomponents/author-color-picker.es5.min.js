var AuthorColorPickerElement=function(){"use strict";function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var e;window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-color-picker> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),0<(e=Array.from(new Set([])).filter(function(e){return!customElements.get(e)})).length&&(console.error("[ERROR] <author-color-picker> Required dependenc".concat(1!==e.length?"ies":"y"," not found: ").concat(e.map(function(e){return"<".concat(e,">")}).join(", ").replace(", "+e[e.length-1]," and "+e[e.length-1]))),e.forEach(function(e,t){return console.info("".concat(t+1,". <").concat(e,"> is available at ").concat("https://github.com/author-elements/color-picker".replace("color-picker",e.replace("author-",""))))}));var t=function(e){function o(){var s,e,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e=this,t=a(o).call(this,'<template><style>@charset "UTF-8"; :host{contain:content;display:flex;flex-direction:column}:host *,:host :after,:host :before{box-sizing:border-box}:host .wrapper{position:relative;flex:1;display:flex;flex-direction:column}:host .canvas-wrapper{flex:1;display:flex;flex-direction:column}:host canvas{flex:1;display:block;width:100%;height:100%}:host ::slotted(*){position:absolute;z-index:1}author-color-picker{contain:content;display:flex;flex-direction:column}author-color-picker *,author-color-picker :after,author-color-picker :before{box-sizing:border-box}author-color-picker .wrapper{position:relative;flex:1;display:flex;flex-direction:column}author-color-picker .canvas-wrapper{flex:1;display:flex;flex-direction:column}author-color-picker canvas{flex:1;display:block;width:100%;height:100%}author-color-picker *{position:absolute;z-index:1}</style><div class="wrapper"><slot></slot><div class="canvas-wrapper"><canvas></canvas></div></div></template>'),(s=!t||"object"!=typeof t&&"function"!=typeof t?l(e):t).UTIL.defineProperties({hue:{private:!0,default:0},saturation:{private:!0,default:0},value:{private:!0,default:100},alpha:{private:!0,default:100},canvas:{private:!0,readonly:!0,get:function(){return s.shadowRoot.querySelector("canvas")}},context:{private:!0,readonly:!0,get:function(){return s.PRIVATE.canvas.getContext("2d")}},position:{private:!0,default:{x:0,y:0}},dimensions:{private:!0,readonly:!0,get:function(){return s.PRIVATE.canvas.getBoundingClientRect()}},initialWidth:{private:!0,default:236},initialHeight:{private:!0,default:118}}),s.UTIL.definePrivateMethods({draw:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.PRIVATE.dimensions.width,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.PRIVATE.dimensions.height,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.PRIVATE.hue,n=s.PRIVATE,r=n.canvas,i=n.context,a=n.HSVToRGB;r.width=e,r.height=t;var c=a(o,100,100);i.clearRect(0,0,e,t),i.fillStyle="rgba(".concat(c[0],", ").concat(c[1],", ").concat(c[2],", 1)"),i.fillRect(0,0,e,t);var l={x:i.createLinearGradient(0,0,e,0),y:i.createLinearGradient(0,0,0,t)};l.x.addColorStop(0,"rgba(255, 255, 255, 1)"),l.x.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=l.x,i.fillRect(0,0,e,t),l.y.addColorStop(0,"rgba(0, 0, 0, 0)"),l.y.addColorStop(1,"rgba(0, 0, 0, 1)"),i.fillStyle=l.y,i.fillRect(0,0,e,t)},generateColorObject:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.PRIVATE.hue,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.PRIVATE.saturation,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.PRIVATE.value,r=s.PRIVATE,i=r.alpha,a=(0,r.HSVToRGB)(t,o,n);return{r:a[0],g:a[1],b:a[2],a:i,hex:"#".concat((e=s.PRIVATE).RGBToHex.apply(e,u(a))),rgba:"rgba(".concat(a.join(","),",").concat(i/100,")")}},generatePositionObject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.PRIVATE.position;return{x:{px:e.x,pct:s.UTIL.getPercentageDecimal(e.x,s.clientWidth)},y:{px:e.y,pct:s.UTIL.getPercentageDecimal(e.y,s.clientHeight)}}},getRelativePosition:function(e){var t=s.PRIVATE.dimensions,o=t.top,n=t.left,r={x:e.pageX-n-s.clientLeft,y:e.pageY-o-s.clientTop};return{x:Math.min(Math.max(r.x,0),s.clientWidth),y:Math.min(Math.max(r.y,0),s.clientHeight)}},HSVToRGB:function(e,t,o){var n,r,i,a,c,l,s,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),o=Math.max(0,Math.min(100,o)),o/=100,0==(t/=100))return n=r=i=o,[Math.round(255*n),Math.round(255*r),Math.round(255*i)];switch(l=o*(1-t),s=o*(1-t*(c=(e/=60)-(a=Math.floor(e)))),u=o*(1-t*(1-c)),a){case 0:n=o,r=u,i=l;break;case 1:n=s,r=o,i=l;break;case 2:n=l,r=o,i=u;break;case 3:n=l,r=s,i=o;break;case 4:n=u,r=l,i=o;break;default:n=o,r=l,i=s}return[Math.round(255*n),Math.round(255*r),Math.round(255*i)]},RGBToHex:function(e,t,o){var n=s.PRIVATE.unitToHex;return"".concat(n(e)).concat(n(t)).concat(n(o))},unitToHex:function(e){var t=Number(e).toString(16);return t.length<2&&(t="0".concat(t)),t.toUpperCase()},pointermoveHandler:function(e){if(!(e.buttons<1)){document.addEventListener("pointerup",s.PRIVATE.pointerupHandler);var t=s.UTIL.getPercentageDecimal,o=s.PRIVATE,n=o.generateColorObject,r=o.generatePositionObject,i=o.position,a=s.PRIVATE.getRelativePosition(e);a.x===i.x&&a.y===i.y||(s.PRIVATE.saturation=100*t(a.x,s.clientWidth),s.PRIVATE.value=100-100*t(a.y,s.clientHeight),s.PRIVATE.position=a,s.emit("sample",{color:n(),position:r()}))}},pointerupHandler:function(e){var t=s.PRIVATE,o=t.generateColorObject,n=t.generatePositionObject,r=t.pointermoveHandler,i=t.pointerupHandler;s.emit("change",{color:o(),position:n()}),document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",i)}}),s.UTIL.registerListeners(l(s),{connected:function(){var e=s.PRIVATE;(0,e.draw)(e.initialWidth,e.initialHeight)},pointerenter:function(e){var t=s.PRIVATE,o=t.dimensions,n=t.draw,r=t.initialWidth,i=t.initialHeight;r===o.width&&i===o.height||n()},pointerdown:function(e){s.PRIVATE.position=s.PRIVATE.getRelativePosition(e);var t=s.UTIL.getPercentageDecimal,o=s.PRIVATE,n=o.generateColorObject,r=o.generatePositionObject,i=(o.HSVToRGB,o.hue,o.pointermoveHandler),a=o.position;s.PRIVATE.saturation=100*t(a.x,s.clientWidth),s.PRIVATE.value=100-100*t(a.y,s.clientHeight),s.emit("change",{color:n(),position:r()}),document.addEventListener("pointermove",i)}}),s}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,AuthorBaseElement(HTMLElement)),t=o,(n=[{key:"hue",set:function(e){this.PRIVATE.hue=Math.max(0,Math.min(360,e)),this.PRIVATE.draw()}},{key:"saturation",set:function(e){this.PRIVATE.saturation=Math.max(0,Math.min(100,e)),console.log("REPOSITION TARGET")}},{key:"value",set:function(e){this.PRIVATE.value=Math.max(0,Math.min(100,e)),console.log("REPOSITION TARGET")}},{key:"hsv",set:function(e){var t=e.h,o=e.s,n=e.v;console.log(t,o,n)}},{key:"lightness",set:function(e){console.log(e)}},{key:"hsl",set:function(e){var t=e.h,o=e.s,n=e.l;console.log(t,o,n)}},{key:"red",set:function(e){console.log(e)}},{key:"g",set:function(e){console.log(e)}},{key:"blue",set:function(e){console.log(e)}},{key:"rgb",set:function(e){var t=e.r,o=e.g,n=e.b;console.log(t,o,n)}},{key:"hex",get:function(){},set:function(e){console.log(e)}},{key:"alpha",set:function(e){console.log(e)}},{key:"position",get:function(){return this.PRIVATE.generatePositionObject()}}])&&i(t.prototype,n),r&&i(t,r),o}();return customElements.define("author-color-picker",t),t}();
//# sourceMappingURL=author-color-picker.es5.min.js.map
