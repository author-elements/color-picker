var AuthorColorPickerElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-color-picker> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),function(){let t=Array.from(new Set([])).filter(t=>!customElements.get(t));t.length>0&&(console.error(`[ERROR] <author-color-picker> Required dependenc${1!==t.length?"ies":"y"} not found: ${t.map(t=>`<${t}>`).join(", ").replace(", "+t[t.length-1]," and "+t[t.length-1])}`),t.forEach((t,e)=>console.info(`${e+1}. <${t}> is available at ${"https://github.com/author-elements/color-picker".replace("color-picker",t.replace("author-",""))}`)))}();class t extends AuthorSliderElement{constructor(){super('<template><style>@charset "UTF-8"; :host{contain:content;display:flex;flex-direction:column}:host *,:host :after,:host :before{box-sizing:border-box}:host ::slotted(*){position:absolute;z-index:1}:host{background-image:linear-gradient(to bottom,transparent 0,#000 100%),linear-gradient(to right,#fff 0,transparent 100%)}:host([mode=hue]){background-image:linear-gradient(to right,red 0,#ff0 calc(1 / 6 * 100%),#0f0 calc(1 / 3 * 100%),#0ff 50%,#00f calc(2 / 3 * 100%),#f0f calc(5 / 6 * 100%),red 100%)}author-color-picker{contain:content;display:flex;flex-direction:column}author-color-picker *,author-color-picker :after,author-color-picker :before{box-sizing:border-box}author-color-picker *{position:absolute;z-index:1}author-color-picker{background-image:linear-gradient(to bottom,transparent 0,#000 100%),linear-gradient(to right,#fff 0,transparent 100%)}author-color-picker[mode=hue]{background-image:linear-gradient(to right,red 0,#ff0 calc(1 / 6 * 100%),#0f0 calc(1 / 3 * 100%),#0ff 50%,#00f calc(2 / 3 * 100%),#f0f calc(5 / 6 * 100%),red 100%)}</style><slot></slot></template>'),this.PRIVATE.defaultAxis="*",this.PRIVATE.pointerupHandler=(t=>{let{generateColorObject:e,generatePositionObject:i,handles:o,pointermoveHandler:a,pointerupHandler:r}=this.PRIVATE,s=!0,n=null;o.length>1?s=!1:0!==o.length&&(o.item(0).position=n=i()),s&&this.emit("change",{color:e(),position:n||i()}),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",r)}),this.PRIVATE.pointermoveHandler=(t=>{if(t.buttons<1)return;let{getPercentageDecimal:e}=this.UTIL,{generateColorObject:i,generatePositionObject:o,handles:a,position:r}=this.PRIVATE,s=this.PRIVATE.getRelativePosition(t);this.position.x&&s.x===r.x&&this.position.y&&s.y===r.y||(this.PRIVATE.setSampledColor(s),this.PRIVATE.position=s,0!==a.length&&(a.item(0).position=this.position),this.emit("slide",{color:i(),position:o()}))}),this.UTIL.defineProperties({defaultMode:{private:!0,readonly:!0,default:"default"},defaultOrientation:{private:!0,readonly:!0,default:"horizontal"},validModes:{private:!0,readonly:!0,default:["default","hue","gradient"]},hue:{private:!0,default:0},saturation:{private:!0,default:0},value:{private:!0,default:100},alpha:{private:!0,default:100}}),this.UTIL.defineAttributes({mode:this.PRIVATE.defaultMode,orientation:this.PRIVATE.defaultOrientation}),this.UTIL.definePrivateMethods({update:()=>{let{hue:t,saturation:e,value:i,HSVToRGB:o,setHandlePosition:a}=this.PRIVATE;switch(this.mode){case"default":return this.UTIL.setStyleProperty("bgColorRule","background-color",`rgba(${o(t,100,100).join(", ")}, 1)`),a({x:{pct:e/100},y:{pct:1-i/100}});case"hue":return a({x:{pct:t/360}})}},setHandlePosition:t=>{let{handles:e}=this.PRIVATE;1===e.length&&(e.item(0).position=t)},generateColorObject:(t=this.PRIVATE.hue,e=this.PRIVATE.saturation,i=this.PRIVATE.value)=>{let{alpha:o,HSVToRGB:a}=this.PRIVATE,r=a(t,e,i),s=r[0],n=r[1],h=r[2];return{hue:this.PRIVATE.hue,saturation:this.PRIVATE.saturation,value:this.PRIVATE.value,r:s,g:n,b:h,alpha:o,hex:`#${this.PRIVATE.RGBToHex(...r)}`,rgba:`rgba(${r.join(",")},${o/100})`}},hexToRGB:t=>{let[,e,i]=String(t).match(/^#?(?:([\da-f]{3})[\da-f]?|([\da-f]{6})(?:[\da-f]{2})?)$/i)||[];if(e)return Array.from(e,t=>Number.parseInt(t,16)).map(t=>t<<4|t);let o=Number.parseInt(i,16);return[o>>16,o>>8&255,255&o]},HSVToRGB:(t=this.PRIVATE.hue,e=this.PRIVATE.saturation,i=this.PRIVATE.value)=>{t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(100,e))/100,i=Math.max(0,Math.min(100,i))/100;let o=o=>{let a=(o+t/60)%6;return i-i*e*Math.max(Math.min(a,4-a,1),0)};return[255*o(5),255*o(3),255*o(1)]},RGBToHex:(t,e,i)=>{let o=t=>{let e=Number(t).toString(16);return e.length<2&&(e=`0${e}`),e.toUpperCase()};return`${o(t)}${o(e)}${o(i)}`},RGBToHSV:(t,e,i)=>{t/=255,e/=255,i/=255;let o,a,r=Math.max(t,e,i),s=Math.min(t,e,i),n=r,h=r-s;if(a=0===r?0:h/r,r===s)o=0;else{switch(r){case t:o=60*(0+(e-i)/h);break;case e:o=60*(2+(i-t)/h);break;case i:o=60*(4+(t-e)/h)}o=o<0?o+360:o}return[o,100*a,100*n]},setSampledColor:(t,e=!1)=>{let{getPercentageDecimal:i}=this.UTIL;switch(this.mode){case"default":this.PRIVATE.saturation=100*i(t.x,this.clientWidth),this.PRIVATE.value=100-100*i(t.y,this.clientHeight);break;case"hue":this.PRIVATE.hue="horizontal"===this.orientation?360*i(t.x,this.clientWidth):360*i(t.y,this.clientHeight),this.PRIVATE.saturation=100,this.PRIVATE.value=100}},setRGB:(t,e,i)=>{let o=this.PRIVATE.RGBToHSV(t,e,i);this.PRIVATE.hue=o[0],this.PRIVATE.saturation=o[1],this.PRIVATE.value=o[2],this.PRIVATE.update()}}),this.UTIL.registerListeners(this,{"attribute.change":t=>{let{attribute:e,oldValue:i,newValue:o}=t.detail;if(o===i)return;let{defaultMode:a,validModes:r}=this.PRIVATE;switch(e){case"mode":return o.split(" ").filter(t=>r.includes(t)).length?this.PRIVATE.update():(this.setAttribute("mode",a),this.UTIL.throwError({message:`Invalid mode "${o}". Valid values include: "${r.join('", "')}"`}))}},connected:()=>{this.removeEventListener("pointerdown",this.PRIVATE.pointerdownHandler),this.hasAttribute("axis")||(this.axis=this.PRIVATE.defaultAxis),this.UTIL.insertStyleRules({bgColorRule:":host {}"}),this.PRIVATE.update()},pointerdown:t=>{this.PRIVATE.position=this.PRIVATE.getRelativePosition(t);let{getPercentageDecimal:e}=this.UTIL,{generateColorObject:i,generatePositionObject:o,handles:a,HSVToRGB:r,hue:s,pointermoveHandler:n,pointerupHandler:h,position:l}=this.PRIVATE;a.length>1||(this.PRIVATE.setSampledColor(l),0!==a.length&&(a.item(0).position=this.position),this.emit("change",{color:i(),position:o()}),document.addEventListener("pointerup",h),document.addEventListener("pointermove",n))}})}static get observedAttributes(){return[...AuthorSliderElement.observedAttributes,"mode","orientation"]}get position(){return this.PRIVATE.generatePositionObject()}get hue(){return this.PRIVATE.hue}set hue(t){t=Math.max(0,Math.min(360,t)),this.PRIVATE.hue=360===t?0:t,this.PRIVATE.update()}get rgb(){return this.PRIVATE.HSVToRGB()}set rgb({r:t=0,g:e=0,b:i=0}){this.PRIVATE.setRGB(Math.max(t,255),Math.max(e,255),Math.max(i,255))}set red(t){let e=this.PRIVATE.HSVToRGB();this.PRIVATE.setRGB(Math.max(t,255),...e.slice(1))}set r(t){this.red=t}set green(t){let e=this.PRIVATE.HSVToRGB();this.PRIVATE.setRGB(e[0],Math.max(t,255),e[2])}set g(t){this.green=t}set blue(t){let e=this.PRIVATE.HSVToRGB();this.PRIVATE.setRGB(...e.slice(-2),Math.max(t,255))}set b(t){this.blue=t}get hex(){return`#${this.PRIVATE.RGBToHex(...this.PRIVATE.HSVToRGB())}`}set hex(t){this.PRIVATE.setRGB(...this.PRIVATE.hexToRGB(t))}set saturation(t){this.PRIVATE.saturation=Math.max(0,Math.min(100,t)),this.PRIVATE.update()}set s(t){this.saturation=t}set value(t){this.PRIVATE.value=Math.max(0,Math.min(100,t)),this.PRIVATE.update()}set v(t){this.value=t}set hsv({h:t,s:e,v:i}){t=Math.max(0,Math.min(360,t)),this.PRIVATE.hue=360===t?0:t,this.PRIVATE.saturation=Math.max(0,Math.min(100,e)),this.PRIVATE.value=Math.max(0,Math.min(100,i)),this.PRIVATE.update()}}return customElements.define("author-color-picker",t),t}();
//# sourceMappingURL=author-color-picker.min.js.map
